<?php
 goto Tg4ym; YtgR0: $result = array(); goto li8I_; KU45Q: if ($result) { goto oxn7B; } goto V1qcw; QAs5g: if (is_array($data) && isset($data["\145\162\162\157\x72"])) { goto XmIq3; } goto JMHTb; j_G2T: $download_size = filesize("\56\x2f\x77\145\67\x73\x6f\165\x72\x63\145\56\172\151\160"); goto mrQ52; R4_Yg: $data = we7_request_api(API_OAUTH_LOGIN_URL, array("\x61\x70\160\x69\x64" => "\x77\142\71\63\x39\x66\x61\x35\71\x65\60\141\61\x38\71\x64\x35\x66", "\162\x65\x64\x69\x72\145\143\x74" => $callback)); goto Vg2lK; rTZgt: set_time_limit(0); goto nNdBz; kLdId: function we7_setcookie($key, $value) { goto egfpS; HLVmi: if (!is_array($value)) { goto scyJb; } goto dRDqx; CyvKq: scyJb: goto aqV01; aqV01: return setcookie(COOKIE_PRE . $key, $value, 0, '', '', $secure, true); goto O4b1M; egfpS: $secure = $_SERVER["\123\105\122\126\x45\x52\x5f\x50\x4f\x52\x54"] == 443 ? 1 : 0; goto HLVmi; dRDqx: $value = json_encode($value); goto CyvKq; O4b1M: } goto nU1rV; YbaK_: $username = trim($_POST["\x75\x73\145\162\156\x61\155\x65"]); goto hPBI2; aiYB4: define("\x41\x50\x49\137\x47\105\x54\137\120\101\x43\113\101\x47\105\x5f\115\104\65\137\101\x4e\x44\137\103\x48\125\116\x4b\x54\117\124\x41\114", API_HOST . "\57\x75\x74\151\154\57\x70\141\x63\x6b\141\x67\145\x2f\x69\x6e\163\164\x61\x6c\x6c"); goto qxSIv; vKALP: function local_run($sql, $link, $db) { goto kZFWB; tKaIS: HLFpQ: goto bFg6g; bFg6g: $sql = str_replace("\15", "\12", str_replace("\x20\x69\x6d\163\137", "\40" . $db["\160\x72\x65\146\151\x78"], $sql)); goto IRcgY; soxYB: return; goto tKaIS; IRcgY: $sql = str_replace("\xd", "\xa", str_replace("\40\140\x69\155\163\137", "\x20\140" . $db["\x70\x72\x65\x66\x69\x78"], $sql)); goto oCkd6; amXtH: VptSX: goto FT28F; EKuaL: foreach ($ret as $query) { goto ABlNW; n17zw: echo $errorInfo[0] . "\72\40" . $errorInfo[2] . "\x3c\x62\162\x20\x2f\x3e"; goto tFiXu; Bs2DL: $errorInfo = $link->errorInfo(); goto n17zw; SyA24: YLf98: goto FIFn4; QtpiY: if (!($link->errorCode() != "\60\60\60\x30\60")) { goto OL5eY; } goto Bs2DL; t2Ygg: if (!$query) { goto YLf98; } goto O2_XY; WgD0g: OL5eY: goto SyA24; FIFn4: WG_UF: goto ZPOIw; ABlNW: $query = trim($query); goto t2Ygg; O2_XY: $link->exec($query); goto QtpiY; tFiXu: exit($query); goto WgD0g; ZPOIw: } goto amXtH; DeLrR: foreach (explode("\73\12", trim($sql)) as $query) { goto g30N5; bqvMT: $queries = explode("\xa", trim($query)); goto I47Ek; s_los: ubrzq: goto F_54_; I47Ek: foreach ($queries as $query) { $ret[$num] .= isset($query[0]) && $query[0] == "\43" || isset($query[1]) && isset($query[1]) && $query[0] . $query[1] == "\x2d\x2d" ? '' : $query; ohOyx: } goto iOz4r; g30N5: $ret[$num] = ''; goto bqvMT; iOz4r: gOutB: goto Sq5Wb; Sq5Wb: $num++; goto s_los; F_54_: } goto juuW6; kZFWB: if (!(!isset($sql) || empty($sql))) { goto HLFpQ; } goto soxYB; huSRn: $num = 0; goto DeLrR; OjEWX: unset($sql); goto EKuaL; oCkd6: $ret = array(); goto huSRn; juuW6: U8MN1: goto OjEWX; FT28F: } goto bAfzf; Zo6qE: exit(we7_error(432, "\xe8\257\xb7\345\x85\x88\350\x8e\267\345\217\x96\xe5\x88\x86\345\215\xb7\346\x80\xbb\351\x87\x8f\56")); goto jw4v2; UHdu9: $ret["\x76\145\x72\163\151\x6f\156"]["\156\x61\x6d\145"] = "\x50\x48\x50\xe7\x89\210\346\x9c\254"; goto K5doh; fmSK6: K44pe: goto OY4or; MCU2j: EPYub: goto Sn1Jk; p92hK: $source_size = $header_array["\x43\x6f\x6e\164\x65\156\164\x2d\x4c\145\156\147\164\x68"]; goto g90Gx; wtvuV: exit(we7_error(0, array("\x74\157\x74\x61\x6c" => $data["\143\x68\165\x6e\153\x5f\164\157\164\x61\154"]))); goto ti3mP; y6Nlu: define("\103\x4f\117\x4b\x49\x45\x5f\120\122\x45", "\167\x65\x37\151\x6e\163\164\x61\x6c\x6c\x5f"); goto A0iR6; o_1ah: $ret["\x66\157\160\145\x6e"]["\146\141\x69\x6c\145\144"] = true; goto bqwY2; t9kFm: OFHzX: goto p0Vo3; A0iR6: define("\x41\x50\111\x5f\x48\117\123\124", "\150\164\164\160\x3a\57\57\x61\x70\x69\x2e\167\x37\56\x63\143"); goto xPeon; nH3EL: $ret["\163\145\163\x73\151\157\156"]["\157\153"] = ini_get("\x73\x65\163\x73\151\x6f\x6e\x2e\141\x75\164\157\137\163\x74\x61\162\x74"); goto VSqzt; nJj0e: header("\x4c\157\143\x61\164\x69\157\156\x3a\x20" . $siteroot . "\x2f\151\x6e\x73\164\141\154\x6c\56\160\150\160"); goto Pl1lC; GkMzt: exit(we7_error(434, $result)); goto inL66; OHOiP: $registered_site = we7_getcookie("\x72\145\147\x69\x73\164\x65\x72\x65\144\x5f\x73\x69\x74\145"); goto uV5Y9; ZutCd: if ($data["\145\162\x72\157\x72"] == 401) { goto pKFfv; } goto XadVk; WzRl9: O1E8Z: goto FMz2I; KY8VJ: we7_handle_chunk(); goto COweV; iNp7i: exit(we7_error(0, $chunk_num)); goto d_kuX; kiux1: function we7_update_user($username, $password) { goto GpsU2; DuqOk: return $result ? true : false; goto CGXUt; poESE: $secure = $is_https ? 1 : 0; goto rJI1c; kPIXO: $session = install_authcode(json_encode($cookie), "\145\x6e\x63\157\144\x65", $_W["\143\157\x6e\x66\x69\147"]["\163\145\x74\164\151\x6e\x67"]["\x61\165\x74\x68\153\x65\x79"]); goto poESE; GpsU2: global $_W, $is_https; goto vqF5h; lcda8: $cookie["\165\151\x64"] = $userinfo["\x75\x69\x64"]; goto LGvrS; vqF5h: load()->model("\165\x73\x65\x72"); goto TyoaN; LGvrS: $cookie["\150\x61\x73\x68"] = md5($password . $userinfo["\x73\x61\x6c\x74"]); goto kPIXO; TyoaN: $userinfo = pdo_get("\165\x73\x65\162\x73", array("\165\x73\145\162\156\141\x6d\x65" => "\141\x64\155\151\x6e")); goto NJbUR; x8pbT: $cookie = array("\x6c\x61\163\164\166\x69\163\x69\164" => '', "\x6c\141\x73\164\x69\x70" => ''); goto lcda8; Ypaaf: $result = pdo_update("\x75\x73\x65\162\163", array("\165\163\x65\x72\x6e\x61\155\x65" => $username, "\x70\141\163\163\x77\x6f\x72\144" => $password), array("\x75\151\x64" => $userinfo["\x75\151\144"])); goto x8pbT; rJI1c: setcookie($_W["\x63\157\156\146\x69\147"]["\x63\x6f\157\153\151\145"]["\x70\162\145"] . "\x5f\x5f\x73\x65\x73\x73\151\x6f\x6e", $session, 0, "\x2f", '', $secure, true); goto DuqOk; NJbUR: $password = user_hash($password, $userinfo["\163\x61\154\x74"]); goto Ypaaf; CGXUt: } goto UtTUD; eEXA7: $finished = false; goto XUy4A; bpO12: goto djCc8; goto nRdzG; jwoRv: function install_authcode($string, $operation = "\104\105\103\x4f\x44\105", $key = '', $expiry = 0) { goto pdHDe; rqIyv: if (!($i < 256)) { goto tuG2b; } goto FyLOz; k0750: $keyc = $ckey_length ? $operation == "\x44\105\103\117\x44\105" ? substr($string, 0, $ckey_length) : substr(md5(microtime()), -$ckey_length) : ''; goto TmJoU; Pd9yN: $box[$j] = $tmp; goto S147V; xEIay: if ($operation == "\x44\105\103\x4f\104\x45") { goto mHq0Q; } goto nX7rC; IqNb3: $j = ($j + $box[$a]) % 256; goto a99Ca; akrD5: kNcgU: goto AdH3a; FLeKo: nPK9d: goto EqhAO; SIJoh: $string_length = strlen($string); goto OxUDV; fMTLO: goto mqCMV; goto oCKIG; e0NeV: b71DS: goto xEIay; YGci7: goto Jqaen; goto mjgKS; Vsirh: $i++; goto GArdQ; Y1ePi: JqgH5: goto W8XyY; mjgKS: Hjnp3: goto htXIz; n6uyl: SLnMj: goto gk73V; xO0op: $string = $operation == "\104\105\103\x4f\x44\105" ? base64_decode(substr($string, $ckey_length)) : sprintf("\45\60\x31\60\x64", $expiry ? $expiry + time() : 0) . substr(md5($string . $keyb), 0, 16) . $string; goto SIJoh; Hq1Rg: $box = range(0, 255); goto UQHps; UQHps: $rndkey = array(); goto J6jto; oNCi2: Jqaen: goto Vws5a; bky4J: $rndkey[$i] = ord($cryptkey[$i % $key_length]); goto xugno; FyLOz: $j = ($j + $box[$i] + $rndkey[$i]) % 256; goto X_2EJ; OxUDV: $result = ''; goto Hq1Rg; lZyRC: $box[$a] = $box[$j]; goto Pd9yN; J6jto: $i = 0; goto oNCi2; X_2EJ: $tmp = $box[$i]; goto GnYEH; f74G0: goto nPK9d; goto n6uyl; k7eRm: rfVBW: goto rqIyv; AdH3a: if (!($i < $string_length)) { goto b71DS; } goto LVakC; uHxG0: goto kNcgU; goto e0NeV; wI9jy: $i++; goto YGci7; xugno: VDHjL: goto wI9jy; Q0LAg: return ''; goto f74G0; nX7rC: return $keyc . str_replace("\x3d", '', base64_encode($result)); goto fMTLO; GArdQ: goto rfVBW; goto EqiVk; EqhAO: mqCMV: goto gPhmh; NGbLq: ziIet: goto Vsirh; oCKIG: mHq0Q: goto QHb1H; OMgGy: $keya = md5(substr($key, 0, 16)); goto SiNAp; DC6ta: $box[$j] = $tmp; goto NGbLq; LVakC: $a = ($a + 1) % 256; goto IqNb3; j9ThX: $key_length = strlen($cryptkey); goto xO0op; Vmvda: $a = $j = $i = 0; goto akrD5; IxFKw: $key = md5($key != '' ? $key : $GLOBALS["\137\x57"]["\143\157\x6e\x66\x69\x67"]["\x73\145\x74\164\x69\156\147"]["\x61\x75\x74\x68\x6b\145\x79"]); goto OMgGy; htXIz: $j = $i = 0; goto k7eRm; EqiVk: tuG2b: goto Vmvda; Vws5a: if (!($i <= 255)) { goto Hjnp3; } goto bky4J; gk73V: return substr($result, 26); goto FLeKo; QHb1H: if ((substr($result, 0, 10) == 0 || substr($result, 0, 10) - time() > 0) && substr($result, 10, 16) == substr(md5(substr($result, 26) . $keyb), 0, 16)) { goto SLnMj; } goto Q0LAg; S147V: $result .= chr(ord($string[$i]) ^ $box[($box[$a] + $box[$j]) % 256]); goto Y1ePi; W8XyY: $i++; goto uHxG0; a99Ca: $tmp = $box[$a]; goto lZyRC; pdHDe: $ckey_length = 4; goto IxFKw; TmJoU: $cryptkey = $keya . md5($keya . $keyc); goto j9ThX; GnYEH: $box[$i] = $box[$j]; goto DC6ta; SiNAp: $keyb = md5(substr($key, 16, 16)); goto k0750; gPhmh: } goto AV0pT; hPBI2: $password = trim($_POST["\x70\x61\x73\x73\167\x6f\x72\x64"]); goto pPDAr; YxYoB: $ret["\x61\x6c\167\x61\x79\163\137\x70\157\160\165\x6c\x61\164\145\x5f\162\x61\x77\137\x70\157\x73\164\137\144\141\164\141"]["\156\141\x6d\x65"] = "\141\154\167\x61\x79\163\137\160\x6f\160\x75\154\x61\164\x65\x5f\x72\141\x77\x5f\x70\x6f\163\x74\x5f\144\x61\x74\x61\xe9\x85\215\xe7\275\xae"; goto Ukc2J; inL66: goto QKS_M; goto M0ePb; OujIQ: $site = array("\153\x65\x79" => $auth["\x6b\x65\x79"], "\164\x6f\x6b\x65\x6e" => $auth["\x74\157\153\x65\x6e"], "\165\162\x6c" => $siteroot); goto V23M4; Atru5: $verfile = IA_INSTALL_ROOT . "\x2f\x66\162\x61\155\x65\x77\x6f\162\153\x2f\x76\x65\x72\x73\x69\x6f\156\x2e\x69\156\143\x2e\160\x68\160"; goto vHlb3; wtgtr: MLht2: goto jTBme; K5doh: $ret["\x76\x65\x72\x73\x69\x6f\156"]["\x72\x65\x73\x75\x6c\164"] = PHP_VERSION; goto SKhEQ; tin2f: Vbu3l: goto t9kFm; mJv3B: goto YqcEy; goto segLl; PR_xr: $source_size = we7_getcookie("\x63\144\156\x5f\x73\x6f\165\x72\x63\145\137\163\151\172\145"); goto Bj5AU; NcHuH: $hostfile = fopen($cdn_source_file, "\162\x62"); goto bdR9s; kJvMI: if (!(!file_exists(IA_INSTALL_ROOT . "\x2f\143\150\x75\x6e\x6b\137" . $i) || empty($chunk_i_filesize))) { goto EXYdQ; } goto eEXA7; sCRZZ: $actions = array("\x63\150\x65\x63\x6b\137\163\151\164\145", "\x6f\141\x75\164\150", "\x65\x6e\x76\151\162\x6f\156\155\x65\x6e\164", "\151\x6e\163\164\141\154\x6c", "\143\x68\165\x6e\153\x74\157\164\x61\x6c", "\144\x6f\167\x6e\154\x6f\141\144\x5f\160\x65\x72\x63\x65\x6e\x74", "\x64\x6f\167\x6e\x6c\157\141\144", "\x69\x6e\x73\164\x61\x6c\154", "\162\x65\x67\151\163\x74\145\x72\137\143\141\154\154\x62\141\x63\153", "\154\157\147\x69\156", "\x67\145\164\137\x73\151\x74\x65\153\x65\x79"); goto IgFjB; Wu9oq: exit(we7_error(400, "\344\xbf\xae\346\224\271\347\x94\xa8\346\x88\xb7\xe5\x90\215\345\xaf\x86\347\xa0\201\xe5\xa4\261\350\264\245\56")); goto tin2f; d_kuX: vbr33: goto DUTto; jTBme: oAjVT: goto wNyaf; sdvTH: $db_username = trim($_POST["\165\163\145\162\156\141\x6d\145"]); goto LGnBy; KoFke: if (file_exists(IA_INSTALL_ROOT . "\57\151\x6e\x64\145\x78\56\x70\150\160") && is_dir(IA_INSTALL_ROOT . "\x2f\167\x65\x62") && file_exists($verfile) && file_exists($dbfile)) { goto a_xTX; } goto haN_u; OZYoh: we7_setcookie("\x69\155\163\x5f\146\141\x6d\x69\154\x79", in_array($data["\146\x61\155\151\x6c\x79"], array("\x6c", "\x76", "\163", "\x78")) ? $data["\146\141\155\x69\154\171"] : "\x76"); goto nJj0e; xrcwI: $action = "\143\x68\145\143\x6b\x5f\163\151\x74\x65"; goto X_MfU; zK0aJ: echo "\74\41\144\157\x63\x74\171\x70\x65\x20\150\164\x6d\154\76\15\12\x3c\x68\x74\x6d\154\x20\x6c\x61\156\x67\x3d\42\x65\156\42\x3e\xd\xa\x3c\x68\x65\x61\144\76\15\12\x20\x20\x3c\155\x65\x74\141\x20\143\x68\141\x72\163\x65\x74\x3d\42\x75\x74\x66\x2d\70\42\76\15\12\40\40\74\x74\151\x74\154\145\76\x57\x65\x37\x49\x6e\163\164\x61\154\x6c\x3c\x2f\164\x69\x74\154\x65\x3e\xd\12\40\x20\x3c\142\x61\163\x65\40\150\162\145\146\x3d\x22" . $sitepath . "\x2f\151\x6e\x73\164\141\154\x6c\56\x70\x68\160\x22\x3e\15\xa\xd\12\x20\40\74\x6d\145\164\141\x20\x6e\x61\x6d\x65\x3d\x22\166\x69\x65\x77\x70\157\x72\x74\x22\x20\143\157\x6e\164\x65\x6e\x74\x3d\x22\167\151\x64\164\x68\x3d\x64\145\166\151\143\145\55\167\x69\x64\164\150\54\x20\x69\x6e\x69\x74\x69\141\154\55\x73\x63\141\154\145\75\x31\x22\76\xd\xa\x20\40\x3c\x6c\x69\156\x6b\x20\x72\x65\x6c\x3d\x22\x69\143\x6f\x6e\42\40\164\x79\160\145\x3d\x22\x69\x6d\x61\147\x65\x2f\x78\x2d\151\143\x6f\x6e\x22\40\150\x72\145\146\x3d\57\57\x63\144\x6e\x2e\167\x37\56\143\x63\57\x77\145\67\55\151\x6e\163\164\x61\x6c\154\57\x66\x61\x76\151\x63\x6f\x6e\56\x69\x63\x6f\42\x3e\xd\12\74\154\151\x6e\x6b\x20\162\x65\154\75\42\163\x74\171\154\145\x73\x68\x65\x65\164\42\x20\150\x72\x65\x66\x3d\x22\x2f\x2f\143\x64\x6e\x2e\x77\x37\56\143\143\x2f\165\x65\144\x2f\167\x65\x37\55\x69\x6e\163\x74\141\x6c\x6c\57\163\x74\x79\154\145\x73\x2e\143\163\163\x3f\166\x3d" . time() . "\42\x3e\74\x2f\150\145\x61\x64\x3e\15\xa\74\142\157\x64\x79\x3e\xd\12\40\x20\74\x61\160\x70\55\x72\157\157\164\76\x3c\x2f\141\x70\160\x2d\x72\x6f\157\164\x3e\15\12\74\163\x63\162\151\x70\164\x20\164\171\x70\x65\x3d\42\164\x65\x78\164\x2f\152\x61\166\141\x73\143\162\151\x70\164\x22\x20\163\162\x63\x3d\x22\x2f\57\143\144\156\56\x77\67\56\143\x63\x2f\x75\145\144\x2f\x77\145\67\55\151\x6e\163\164\x61\154\x6c\57\x72\165\156\164\151\155\145\x2e\152\x73\x3f\166\x3d" . time() . "\42\x3e\x3c\57\x73\x63\x72\151\x70\164\x3e\x3c\x73\x63\x72\151\160\x74\x20\x74\x79\160\145\75\x22\164\x65\170\164\57\152\141\x76\x61\163\x63\162\x69\160\164\x22\x20\x73\x72\x63\x3d\x22\57\57\143\144\x6e\56\167\67\x2e\143\143\57\x75\x65\144\x2f\x77\x65\x37\55\x69\x6e\163\164\x61\154\154\57\160\x6f\x6c\171\x66\151\154\154\163\56\x6a\x73\x3f\166\75" . time() . "\x22\76\x3c\57\163\x63\162\151\160\164\x3e\x3c\163\x63\x72\x69\160\x74\x20\x74\x79\x70\145\x3d\x22\x74\x65\x78\x74\57\152\x61\x76\x61\163\143\162\151\x70\164\42\40\x73\x72\143\x3d\42\x2f\x2f\143\x64\x6e\x2e\167\67\x2e\x63\x63\57\165\x65\x64\x2f\167\145\x37\55\x69\156\163\x74\141\x6c\x6c\x2f\x6d\141\x69\156\56\x6a\163\77\x76\x3d" . time() . "\42\76\74\57\163\143\x72\151\160\x74\x3e\74\57\142\x6f\144\x79\x3e\15\xa\x3c\x2f\x68\164\155\x6c\76"; goto xMN3h; Nfl8Q: if (!($action == "\144\157\x77\156\154\157\x61\144")) { goto GBix7; } goto KDIie; CdUyC: if (!($action == "\x63\x68\165\x6e\153\164\x6f\x74\x61\154")) { goto VJOvY; } goto g3VaC; Hmuyq: $server = trim($_POST["\x73\145\x72\x76\145\162"]); goto sdvTH; e4f4s: a_xTX: goto XBsQC; qxSIv: define("\x41\x50\111\x5f\x47\x45\124\x5f\x43\110\x55\116\x4b\137\x50\x41\103\x4b\x41\x47\x45", API_HOST . "\x2f\165\164\151\x6c\x2f\160\x61\x63\153\x61\x67\145\57\151\x6e\x73\164\141\154\154"); goto b8Ysk; TxLba: $code = trim($_GET["\143\157\144\x65"]); goto FWdil; EZgTk: define("\101\120\x49\x5f\117\x41\125\x54\x48\x5f\114\x4f\x47\x49\116\137\x55\x52\x4c", API_HOST . "\x2f\157\x61\x75\164\150\x2f\154\157\147\x69\x6e\55\x75\x72\154\x2f\151\x6e\x64\x65\170"); goto yNCh3; sdF9S: header("\x63\x6f\x6e\164\x65\x6e\x74\x2d\164\171\x70\145\72\x74\x65\x78\164\x2f\x68\x74\155\154\x3b\143\x68\x61\x72\163\145\164\x3d\165\164\146\55\x38"); goto zK0aJ; GHxM4: exit(we7_error(400, "\350\xaf\267\xe9\x87\215\346\226\260\347\x99\273\xe5\xbd\x95\56")); goto JPb0a; sK1sV: goto vbr33; goto b8efE; bvdp9: define("\111\x4e\137\123\x59\123", true); goto UprAk; gw1zu: exit(we7_error(400, "\344\277\256\xe6\x94\271\xe7\253\231\347\202\271\345\x90\x8d\347\247\xb0\345\244\xb1\xe8\264\xa5\56")); goto qjHLp; uV5Y9: if (!(empty($accesstoken) && !$registered_site && $action != "\x72\x65\147\151\x73\164\x65\162\x5f\x63\x61\154\154\142\x61\143\153")) { goto G5qyP; } goto xrcwI; A61uE: if ($ret["\144\x61\x74\x61"]["\157\x6b"]) { goto H0Wn4; } goto QidJR; SQWn0: exit; goto mJv3B; pcytM: NkuvO: goto z4NwW; EH8QG: AyMeW: goto zGYPI; pWS5X: if (feof($hostfile)) { goto PuK1q; } goto VVM0X; G5gL8: require IA_INSTALL_ROOT . "\x2f\x66\162\x61\x6d\x65\x77\157\x72\153\57\142\157\157\x74\x73\164\162\141\160\56\151\156\143\56\x70\150\x70"; goto OujIQ; xgGUl: fclose($hostfile); goto KY8VJ; X_MfU: G5qyP: goto vIJIY; sfRYj: function we7_request_api($url, $post = array()) { goto EdeAW; KvBJp: goto Ac83b; goto VMfmP; zMntd: if (is_array($result)) { goto TxYJo; } goto pc4h1; qcmN5: return $result; goto HrXJE; blGOn: if (!($response["\143\157\x64\x65"] == 401)) { goto Y0Rxl; } goto Q2xEO; pc4h1: return $response["\143\157\x6e\x74\x65\156\164"]; goto KvBJp; wpEJj: cW2Wh: goto wf06K; ioPQT: Y0Rxl: goto qEmvR; VMfmP: TxYJo: goto qcmN5; HZgwH: return array("\145\x72\162\x6f\x72" => $response["\x63\157\x6e\x74\145\156\x74"]); goto wpEJj; Q2xEO: return array("\x65\x72\x72\x6f\162" => 401); goto ioPQT; EdeAW: $response = we7_http_request($url, $post); goto blGOn; wf06K: $result = json_decode($response["\143\x6f\156\164\x65\x6e\x74"], true); goto zMntd; qEmvR: if (!($response["\x63\x6f\x64\x65"] != 200 || isset($response["\x65\x72\162\156\157"]))) { goto cW2Wh; } goto HZgwH; HrXJE: Ac83b: goto V7Oq4; V7Oq4: } goto rG9zZ; zAkLz: function we7_http_response_parse($data) { goto C_jQU; a50cF: vIHR8: goto fLJ51; tpIyE: preg_match("\57\136\x28\134\x53\x2b\51\40\x28\x5c\x53\x2b\x29\40\x28\x2e\52\51\x24\x2f", $split2[0], $matches); goto g2skO; B1B7h: $split2 = explode("\15\xa", $split1[0], 2); goto tpIyE; LWhn6: return we7_http_response_parse($rlt["\143\x6f\x6e\164\x65\x6e\x74"]); goto j6e39; MYFFe: $pos = strpos($data, "\15\12\xd\xa"); goto hGdtu; Ktq6Z: $rlt["\x6d\145\x74\141"] = $data; goto KP2sI; iKfLN: return $rlt; goto SBCAg; mvy7s: Uc9VZ: goto Ktq6Z; eIBR8: $isgzip = false; goto FtBDV; r8Awb: $rlt["\x72\x65\x73\160\157\156\x73\145\x6c\x69\x6e\145"] = !empty($split2[0]) ? $split2[0] : ''; goto gUJXo; g2skO: $rlt["\x63\x6f\144\x65"] = !empty($matches[2]) ? $matches[2] : 200; goto Vhhsf; fLJ51: $rlt["\143\x6f\156\164\145\x6e\x74"] = $split1[1]; goto ptXGu; gUJXo: $header = explode("\15\12", $split2[1]); goto eIBR8; yGsEo: $split1[1] = substr($data, $pos + 4, strlen($data)); goto B1B7h; rg1tW: $rlt["\143\x6f\156\164\x65\x6e\164"] = gzdecode($rlt["\143\157\x6e\x74\145\156\164"]); goto mvy7s; hGdtu: $split1[0] = substr($data, 0, $pos); goto yGsEo; C_jQU: $rlt = array(); goto MYFFe; KP2sI: if (!($rlt["\143\x6f\x64\145"] == "\x31\x30\x30")) { goto GlPil; } goto LWhn6; Vhhsf: $rlt["\x73\x74\141\x74\x75\x73"] = !empty($matches[3]) ? $matches[3] : "\x4f\113"; goto r8Awb; FtBDV: foreach ($header as $v) { goto YLEzb; nuBHR: $value = trim(substr($v, $pos + 1)); goto WFV5r; xvLZF: oZMPE: goto WkoYV; BgZ9D: $rlt["\x68\145\141\144\145\x72\163"][$key][] = $value; goto Xx7xI; c1YMI: if (!(!$isgzip && strtolower($key) == "\x63\x6f\156\164\145\x6e\x74\x2d\x65\x6e\143\157\x64\151\156\147" && strtolower($value) == "\147\x7a\x69\160")) { goto CVmTt; } goto lTDAN; WFV5r: if (is_array($rlt["\x68\145\x61\x64\145\162\x73"][$key])) { goto pvQDe; } goto w4cjI; oC_Fd: $temp = $rlt["\x68\x65\x61\x64\x65\162\163"][$key]; goto Mo5fm; n3_dy: goto nKgkH; goto py2C9; yEZFi: $key = substr($v, 0, $pos); goto nuBHR; E8Uzb: siKg7: goto oC_Fd; KbYF3: CVmTt: goto xvLZF; py2C9: pvQDe: goto ZjO_V; lTDAN: $isgzip = true; goto KbYF3; jzXn8: $rlt["\150\x65\141\144\145\x72\x73"][$key] = $value; goto n3_dy; w2KIv: goto nKgkH; goto E8Uzb; cozba: $rlt["\x68\x65\141\x64\x65\x72\x73"][$key][] = $temp; goto BgZ9D; Mo5fm: unset($rlt["\x68\145\x61\144\145\162\x73"][$key]); goto cozba; YLEzb: $pos = strpos($v, "\72"); goto yEZFi; w4cjI: if (!empty($rlt["\x68\x65\141\144\145\x72\x73"][$key])) { goto siKg7; } goto jzXn8; Xx7xI: nKgkH: goto c1YMI; ZjO_V: $rlt["\150\x65\141\x64\145\162\x73"][$key][] = $value; goto w2KIv; WkoYV: } goto a50cF; j6e39: GlPil: goto iKfLN; ptXGu: if (!($isgzip && function_exists("\x67\x7a\x64\x65\x63\x6f\x64\x65"))) { goto Uc9VZ; } goto rg1tW; SBCAg: } goto sfRYj; A_6Yd: if (!($chunk_num > $chunk_total)) { goto k312j; } goto UqfTn; MzPKg: m6ztD: goto QOmDZ; haN_u: exit(we7_error(421, "\xe5\xae\x89\350\243\205\xe5\214\x85\344\xb8\215\xe5\xae\x8c\xe6\225\264\56")); goto e4f4s; QOmDZ: we7_setcookie("\x72\x65\x67\151\x73\164\145\x72\x65\x64\137\163\x69\x74\145", 1); goto OZYoh; sd8BJ: $ret["\x73\x65\x73\x73\151\x6f\x6e"]["\156\x61\x6d\145"] = "\163\x65\x73\163\151\x6f\156\x2e\141\165\164\x6f\x5f\163\x74\141\162\x74\xe5\274\200\345\x90\257"; goto EV46l; nRdzG: oNwzy: goto NcHuH; bqwY2: $ret["\x66\x6f\x70\145\x6e"]["\156\141\155\145"] = "\x66\157\x70\x65\156"; goto P_R0t; nMysU: if ($sitename_result) { goto fwiax; } goto gw1zu; j82Yq: k312j: goto fFwzH; DUTto: GBix7: goto plau7; KFvsr: touch(IA_INSTALL_ROOT . "\x2f\x64\x61\x74\141\x2f\x64\142\x2e\x6c\157\143\x6b"); goto fmSK6; IgFjB: $action = trim($_GET["\163\164\x65\x70"]); goto PeKld; EA3jx: gzIGD: goto MLU6Q; jw4v2: OThIP: goto KxTlA; prylo: s_fZM: goto OjJUM; wcm9O: if (!($server["\x75\160\154\x6f\x61\144"] == "\x75\156\x6b\x6e\x6f\167" || !strstr($server["\x75\160\154\157\141\144"], "\x6d"))) { goto DROgL; } goto DcmvO; zE5E_: function we7_need_extension() { return array("\172\x69\160", "\x70\x64\x6f", "\160\144\x6f\137\155\171\x73\161\x6c", "\x6f\160\145\x6e\x73\163\x6c", "\147\x64", "\155\x62\163\x74\x72\151\x6e\147", "\155\x63\162\171\x70\x74", "\x63\165\162\x6c"); } goto pUzE5; vV0mF: if (!($database_result !== true)) { goto ROASg; } goto gEa0E; XFuvR: exit(we7_error(400, $chunk_num)); goto FTDsH; IYEbW: if (!(is_array($data) && isset($data["\x65\x72\162\x6f\x72"]))) { goto oAjVT; } goto b6DwP; ssnJO: VJOvY: goto jfurN; Pl1lC: exit; goto EBWzL; SfgP0: exit(we7_error(0, $chunk_num)); goto A_6Yd; r_kGA: fwrite($fh, $output); goto HyCQW; bAfzf: function local_create_sql($schema, $local_create_sql) { goto Yp0BQ; Umf3w: $engine = $local_create_sql ? $schema["\145\156\147\151\156\x65"] : "\115\x79\x49\123\x41\115"; goto vKnsr; YI6qv: $sql .= "\xa\51\40\x45\116\x47\x49\116\x45\75{$engine}\x20\x44\105\106\x41\125\x4c\124\x20\x43\x48\x41\x52\x53\x45\124\75{$charset}\73\xa\xa"; goto BUOFf; BUOFf: return $sql; goto qgdp9; Pja08: foreach ($schema["\146\x69\x65\x6c\144\x73"] as $value) { goto FXugf; kThNK: yVZND: goto cvagw; wYwTA: goto l5RAa; goto XhQUN; s2Lv6: $null = "\40\116\117\x54\x20\x4e\x55\114\114"; goto QUa4P; dQfyd: l5RAa: goto JV1oA; My7rQ: n3lQH: goto JltqD; JltqD: if ($value["\x69\x6e\x63\x72\145\x6d\145\x6e\164"]) { goto v3uYn; } goto VTxUm; JV1oA: $sql .= "\140{$value["\156\141\155\145"]}\140\x20{$value["\164\x79\160\145"]}{$length}{$signed}{$null}{$default}{$increment}\54\12"; goto vuWjB; cvagw: $default = "\40\x44\x45\x46\x41\125\x4c\x54\x20\47" . $value["\x64\x65\x66\x61\165\154\164"] . "\x27"; goto My7rQ; aExer: zxBK4: goto GYPLf; MsaRl: goto zxBK4; goto Nzeqy; XhQUN: v3uYn: goto dvmVL; OkY55: $length = ''; goto MsaRl; nX2kj: X32K3: goto s2Lv6; Nzeqy: zs453: goto k5uJE; GYPLf: $signed = empty($value["\x73\x69\147\x6e\x65\x64"]) ? "\40\x75\156\163\x69\147\156\x65\x64" : ''; goto uX2A1; QUa4P: ICNFV: goto YK4no; uX2A1: if (empty($value["\x6e\x75\154\154"])) { goto X32K3; } goto Vai2B; YK4no: if (isset($value["\144\145\146\141\165\x6c\164"])) { goto yVZND; } goto mwo9c; mwo9c: $default = ''; goto CHS6y; vuWjB: iESpo: goto afBqr; dvmVL: $increment = "\40\101\x55\x54\117\137\111\x4e\103\x52\x45\x4d\105\116\124"; goto dQfyd; FXugf: if (!empty($value["\x6c\145\156\147\164\150"])) { goto zs453; } goto OkY55; k5uJE: $length = "\x28{$value["\x6c\145\x6e\x67\164\150"]}\x29"; goto aExer; VTxUm: $increment = ''; goto wYwTA; ckXI6: goto ICNFV; goto nX2kj; Vai2B: $null = ''; goto ckXI6; CHS6y: goto n3lQH; goto kThNK; afBqr: } goto wm_Tu; ExtwQ: $sql = rtrim($sql, "\x2c"); goto YI6qv; Yp0BQ: $pieces = explode("\x5f", $schema["\143\150\x61\x72\x73\x65\164"]); goto YUDGo; vKnsr: $sql = "\x43\122\x45\x41\124\105\40\124\101\x42\114\x45\40\x49\x46\40\x4e\117\x54\40\105\130\x49\x53\124\123\x20\x60{$schema["\x74\141\142\x6c\x65\x6e\x61\x6d\145"]}\x60\x20\x28\12"; goto Pja08; YUDGo: $charset = $pieces[0]; goto Umf3w; syR0B: e9d97: goto Lnjj1; ai9R9: foreach ($schema["\151\x6e\144\x65\170\x65\x73"] as $value) { goto Kke9r; MtdjF: $sql .= "\x4b\105\x59\40\140{$value["\156\141\x6d\145"]}\140\x20\x28\x60{$fields}\140\x29\x2c\12"; goto O1nTu; Z2ogb: W6Gnb: goto dUFbs; jM63M: KW6RT: goto PnzXx; Kke9r: $fields = implode("\x60\x2c\x60", $value["\146\x69\145\154\x64\x73"]); goto Tt26n; FlMN9: Epray: goto jM63M; dUFbs: if (!($value["\164\171\x70\x65"] == "\x70\x72\151\x6d\x61\x72\171")) { goto Epray; } goto RmmsF; RmmsF: $sql .= "\120\x52\x49\115\101\x52\131\40\x4b\x45\x59\40\50\140{$fields}\140\51\54\12"; goto FlMN9; Gq63p: $sql .= "\125\x4e\111\121\x55\x45\x20\113\105\x59\40\x60{$value["\156\x61\155\145"]}\x60\40\50\x60{$fields}\140\51\54\xa"; goto Z2ogb; b9DJn: if (!($value["\x74\x79\x70\x65"] == "\x75\156\x69\x71\165\145")) { goto W6Gnb; } goto Gq63p; O1nTu: gnw6g: goto b9DJn; Tt26n: if (!($value["\x74\x79\x70\145"] == "\x69\x6e\x64\x65\170")) { goto gnw6g; } goto MtdjF; PnzXx: } goto syR0B; Lnjj1: $sql = rtrim($sql); goto ExtwQ; wm_Tu: pZbze: goto ai9R9; qgdp9: } goto jwoRv; A1sgp: touch(IA_INSTALL_ROOT . "\57\144\x61\x74\141\57\151\156\x73\164\x61\x6c\x6c\x2e\x6c\x6f\x63\153"); goto hp3PO; KDIie: $chunk_num = max(1, intval($_POST["\x63\x68\165\x6e\153"])); goto nRfUp; TqluX: goto yfoF7; goto fLNOM; D1f6a: $ret["\141\163\x70\x5f\164\141\147\163"]["\x66\141\151\154\x65\144"] = true; goto DVWLB; nsSxf: exit(we7_error(430, $register_site_result)); goto A4PsL; COweV: xlrvm: goto bpO12; c4u57: $data = we7_request_api(API_SITE_REGISTER_EXIST, array("\x75\x72\x6c" => $siteroot)); goto rf4lX; zm8gY: QKS_M: goto X53nv; b67sO: UX76l: goto Atru5; mvtkd: $finished = true; goto sRYzC; lhLgZ: exit(we7_error(400, "\346\x95\xb0\346\215\256\351\x94\231\350\257\xaf\56")); goto VO31q; vmU72: exit(we7_error(433, "\141\143\143\x65\163\163\x74\157\x6b\145\x6e\40\x65\x78\160\151\162\145\x64\x2e")); goto wtgtr; n28dI: $output = fread($hostfile, 8192); goto r_kGA; H0ASl: $ret["\x64\157\155"]["\x6f\153"] = class_exists("\x44\117\115\104\x6f\x63\165\155\x65\x6e\164"); goto EkMs5; vjgSX: fclose($hostfile); goto UzXJE; DDUW_: $cdn_source_file = "\x68\164\x74\x70\163\x3a\57\57\x63\144\156\x2e\167\67\x2e\x63\x63\x2f\144\x6f\167\156\x6c\157\141\144\57\x69\x6e\163\x74\x61\154\x6c\x2e\172\151\160\77\x76\75" . time(); goto EIB31; n6qVN: kegr7: goto yl1Cp; plau7: if (!($action == "\151\x6e\x73\x74\141\x6c\x6c")) { goto N7kf3; } goto Cs_ha; kChPp: $ret["\162\x6f\157\164"]["\x66\x61\x69\154\145\x64"] = true; goto ovB7C; TCrON: exit; goto TlFeb; P_R0t: $ret["\x66\x6f\x70\x65\x6e"]["\162\145\x73\165\154\164"] = "\344\xb8\215\xe6\224\xaf\346\214\x81\146\157\x70\145\156"; goto S1jhv; V23M4: setting_save($site, "\x73\x69\164\x65"); goto MpZq4; Bkb4C: if (!empty($chunk_total)) { goto OThIP; } goto Zo6qE; POLop: EyEDW: goto lhLgZ; TlFeb: U1dbR: goto RNHQP; dPUJY: header("\x4c\x6f\x63\x61\164\x69\x6f\x6e\72\40" . $forward); goto wPMHN; iuXik: header("\114\x6f\x63\x61\x74\151\x6f\156\72\x20" . $siteroot . "\x2f\x69\156\163\x74\141\154\x6c\56\x70\150\x70"); goto SQWn0; g90Gx: we7_setcookie("\143\x64\156\x5f\163\x6f\165\162\x63\x65\x5f\x73\x69\x7a\145", $source_size); goto qhptB; ptTdP: exit(we7_error(0, "\x73\x75\143\x63\x65\163\163")); goto zm8gY; XeOyB: if (!(is_array($data) && isset($data["\x65\162\x72\x6f\x72"]))) { goto dmmYN; } goto lM0Ay; b6DwP: if ($data["\145\x72\x72\157\162"] == 401) { goto RL222; } goto XFuvR; tahUU: EONpD: goto YtgR0; dU63n: vGwEp: goto x7tqo; m69vR: YqcEy: goto prylo; EbECZ: DROgL: goto YzZzy; yn7AB: exit(we7_error(0, array("\164\x6f\x74\141\154" => 1))); goto EA3jx; segLl: am16r: goto c_yNL; c8pSO: if (!(file_exists($filename) && !empty($filesize))) { goto NkuvO; } goto ngIXv; H1v2E: if ($ret["\x66\x6f\x70\145\156"]["\x6f\x6b"]) { goto XNzHX; } goto o_1ah; oZSJX: $user_result = we7_update_user($username, $password); goto SYph6; A7ilZ: $hostfile = fopen($cdn_source_file, "\x72\142"); goto sJtBE; A4PsL: TCwVV: goto M61nf; L7Ncu: XmIq3: goto ZutCd; Bj5AU: if (!empty($source_size)) { goto uCsE9; } goto O0I7n; Leoqj: N7kf3: goto nO9Mt; OjJUM: if (!($action == "\145\x6e\166\x69\162\157\156\155\x65\156\x74")) { goto zAhkc; } goto PLx_i; gEa0E: exit(we7_error(420, $database_result)); goto WhFt2; XUy4A: EXYdQ: goto KmLIS; eL4Ib: QuqNK: goto tvsVf; PNavh: $auth = @json_decode(base64_decode($post), true); goto Q8ITn; xeWsV: PuK1q: goto vjgSX; qNjTF: if (!($action == "\162\145\x67\151\x73\x74\145\162\x5f\143\141\x6c\x6c\142\141\143\x6b")) { goto WnMm1; } goto l0eQW; EkMs5: if ($ret["\x64\x6f\155"]["\x6f\x6b"]) { goto gOAj4; } goto ISM9e; ZlAzp: foreach (we7_need_extension() as $extension) { goto O2ren; gijix: $ret[$extension]["\x66\141\x69\x6c\145\x64"] = true; goto YFaY9; Sfwu7: if ($if_ok) { goto MVCGm; } goto gijix; qNu5b: fp2U1: goto M2hkN; YFaY9: $ret[$extension]["\x6e\141\x6d\x65"] = $extension . "\xe6\211\251\xe5\261\225"; goto GDdso; O2ren: $if_ok = extension_loaded($extension); goto Sfwu7; JOton: MVCGm: goto qNu5b; GDdso: $ret[$extension]["\x72\x65\x73\165\154\x74"] = "\xe4\xb8\x8d\346\224\257\346\214\x81" . $extension; goto JOton; M2hkN: } goto tahUU; eh78b: header("\x6c\157\143\x61\164\151\157\x6e\x3a\40\56\57\x69\x6e\x64\x65\170\56\x70\x68\x70"); goto TCrON; CtM5z: dmmYN: goto ZuWOG; A3c2H: $database_result = we7_build_config($server, $db_username, $db_password, $db_name, $db_prefix); goto xI2Iv; p0Vo3: exit(we7_error(0, "\163\x75\x63\143\145\x73\163")); goto BUDKn; Lx7en: exit(we7_error(419, $database_result)); goto Fv2BV; c7PYg: $ret["\144\x61\164\141"]["\156\141\155\145"] = "\x64\141\x74\141\xe7\x9b\xae\xe5\xbd\225\345\x86\231\345\205\xa5"; goto Uqx6F; X53nv: zAhkc: goto CdUyC; Ukc2J: $ret["\141\154\167\x61\171\163\137\160\157\x70\165\154\x61\164\145\137\x72\141\167\137\x70\157\x73\x74\x5f\144\x61\164\x61"]["\x72\x65\163\165\x6c\164"] = @ini_get("\x61\154\x77\x61\x79\x73\137\x70\157\160\165\154\141\x74\x65\137\162\141\x77\x5f\160\x6f\x73\x74\137\x64\141\164\141"); goto A1LFF; f56xv: if (feof($hostfile)) { goto PbNZP; } goto n28dI; mPigz: $sitename_result = we7_update_sitename($sitename); goto nMysU; ISM9e: $ret["\x64\x6f\x6d"]["\x66\141\151\154\x65\144"] = true; goto mzGjz; EBWzL: p8dAN: goto sP4nk; UCh2D: $i++; goto nZTtx; WhFt2: ROASg: goto KFvsr; j72K7: exit(we7_error(433, "\x61\x63\x63\145\163\163\164\157\x6b\145\x6e\x20\145\170\160\151\162\145\144\x2e")); goto aesuc; xF6wW: H0Wn4: goto ZlAzp; SYph6: if ($user_result) { goto Vbu3l; } goto Wu9oq; DVWLB: $ret["\141\x73\160\137\164\x61\x67\x73"]["\156\141\155\145"] = "\141\x73\x70\x5f\x74\x61\x67\163"; goto q19R2; ngIXv: exit(we7_error(0, $chunk_num)); goto pcytM; DJOyC: function we7_handle_chunk() { goto bJ6Dk; ueL0T: $result = false; goto rDvl3; vy0jZ: if (!($res === TRUE)) { goto ttEgv; } goto KG4fz; x1AF4: $result = true; goto CrSbq; A2X2v: $zip->close(); goto x1AF4; KG4fz: $zip->extractTo(IA_INSTALL_ROOT); goto A2X2v; CrSbq: ttEgv: goto LGwrO; SyCYn: return $result; goto hzPLD; o0cN4: $res = $zip->open($tmpfile); goto vy0jZ; rDvl3: if (!file_exists($tmpfile)) { goto oXHh5; } goto zlO9t; zlO9t: $zip = new ZipArchive(); goto o0cN4; LGwrO: oXHh5: goto SyCYn; bJ6Dk: $tmpfile = "\56\x2f\x77\x65\67\x73\x6f\x75\162\x63\x65\x2e\x7a\151\160"; goto ueL0T; hzPLD: } goto xYATl; ZRkcW: YcPyr: goto pWS5X; UprAk: require IA_INSTALL_ROOT . "\x2f\x66\162\x61\155\145\x77\x6f\162\x6b\x2f\142\157\x6f\164\163\x74\x72\141\x70\56\151\156\143\x2e\160\x68\160"; goto fGZpt; PCH3m: $chunk_i_filesize = filesize(IA_INSTALL_ROOT . "\57\143\150\165\156\153\137" . $i); goto kJvMI; YaxaB: $ret["\146\157\x70\x65\x6e"]["\157\153"] = @ini_get("\141\154\154\x6f\167\137\x75\x72\154\x5f\x66\x6f\x70\x65\x6e") && function_exists("\x66\163\x6f\143\x6b\157\160\x65\x6e"); goto H1v2E; BUDKn: q6ovT: goto qNjTF; UD3CI: if (!($action == "\157\141\165\x74\x68")) { goto s_fZM; } goto TxLba; d0kuw: $ret["\165\160\154\157\x61\144"]["\x72\145\163\x75\154\x74"] = $server["\165\160\154\x6f\141\144"]; goto EbECZ; YprsK: function local_config() { $cfg = "\x3c\77\x70\150\x70\15\xa\x64\145\146\x69\x6e\x65\x64\50\47\x49\x4e\137\x49\101\x27\x29\40\x6f\162\40\x65\170\x69\164\50\47\101\143\143\145\x73\x73\x20\104\145\156\151\x65\144\x27\51\73\15\12\15\12\44\x63\157\156\x66\151\x67\x20\x3d\40\x61\x72\x72\x61\171\x28\51\x3b\15\xa\15\xa\x24\143\x6f\156\x66\x69\x67\x5b\47\144\x62\x27\135\133\47\155\x61\x73\x74\145\162\x27\135\x5b\47\x68\157\163\164\47\135\40\x3d\40\47\173\144\142\x2d\163\145\x72\x76\145\x72\175\47\x3b\xd\12\44\143\157\156\x66\x69\147\133\x27\144\142\x27\135\x5b\47\x6d\x61\x73\x74\x65\162\47\135\x5b\x27\x75\163\x65\x72\156\141\155\145\47\135\x20\75\x20\47\173\144\x62\55\165\x73\x65\162\156\x61\x6d\x65\x7d\47\73\xd\12\44\x63\157\156\x66\x69\147\x5b\x27\144\142\x27\x5d\x5b\47\x6d\141\163\164\x65\162\x27\135\x5b\47\x70\x61\x73\163\167\x6f\162\x64\x27\135\x20\x3d\40\47\173\x64\142\x2d\x70\141\163\x73\x77\157\x72\x64\175\47\73\15\12\x24\143\157\156\146\x69\147\x5b\x27\144\x62\47\x5d\x5b\47\x6d\x61\163\x74\x65\x72\47\135\133\47\160\x6f\162\164\x27\x5d\40\x3d\40\x27\x7b\x64\x62\55\x70\157\162\164\175\47\73\xd\xa\x24\x63\157\156\x66\x69\147\133\47\x64\142\47\x5d\x5b\47\155\x61\163\x74\x65\x72\47\135\133\47\x64\x61\164\141\142\141\163\145\x27\135\x20\x3d\x20\x27\x7b\x64\x62\x2d\x6e\141\x6d\145\175\47\x3b\15\xa\44\x63\157\x6e\146\151\147\133\47\144\x62\x27\135\x5b\x27\155\x61\x73\164\145\162\47\135\133\x27\143\x68\141\x72\163\145\164\x27\x5d\x20\75\40\47\165\x74\x66\70\47\73\15\12\x24\143\157\x6e\x66\151\147\x5b\x27\144\x62\47\x5d\x5b\x27\x6d\141\x73\164\x65\162\x27\x5d\133\47\x70\143\x6f\x6e\156\145\143\164\x27\x5d\x20\75\x20\60\x3b\xd\xa\x24\143\x6f\x6e\x66\151\x67\133\47\144\x62\x27\135\133\47\x6d\141\x73\x74\x65\162\47\x5d\133\47\164\141\142\154\145\160\x72\145\47\x5d\40\x3d\x20\47\173\144\142\55\164\141\x62\154\x65\x70\x72\145\x7d\47\x3b\15\12\xd\12\44\x63\x6f\x6e\x66\x69\x67\x5b\47\144\142\47\x5d\x5b\x27\x73\154\x61\x76\145\x5f\163\x74\x61\x74\165\x73\x27\135\x20\75\x20\x66\141\x6c\163\x65\x3b\15\12\44\143\157\x6e\146\151\147\x5b\x27\x64\142\47\135\133\47\x73\154\x61\x76\145\x27\135\x5b\47\61\47\135\x5b\x27\150\157\x73\164\47\x5d\40\x3d\40\47\47\73\xd\12\x24\143\x6f\x6e\x66\x69\x67\x5b\47\144\142\47\x5d\133\x27\x73\x6c\141\166\145\x27\x5d\133\47\61\47\135\133\x27\x75\x73\145\x72\x6e\141\x6d\x65\47\135\x20\x3d\40\x27\x27\73\15\xa\44\x63\x6f\156\x66\151\147\x5b\x27\144\x62\x27\135\x5b\x27\x73\154\141\x76\145\x27\135\x5b\47\61\x27\x5d\x5b\x27\160\x61\x73\x73\167\x6f\x72\x64\x27\135\x20\75\40\47\x27\73\15\12\44\x63\157\156\146\x69\147\133\47\144\142\x27\x5d\133\47\x73\154\x61\x76\x65\x27\x5d\133\47\61\x27\x5d\133\47\160\x6f\162\x74\47\135\40\75\40\47\63\x33\60\x37\47\x3b\xd\12\x24\x63\157\156\x66\151\147\133\x27\x64\142\47\x5d\133\47\163\154\141\166\145\x27\x5d\133\47\61\x27\x5d\x5b\x27\x64\141\x74\x61\x62\141\163\145\x27\135\40\x3d\x20\47\47\x3b\15\xa\x24\x63\157\x6e\146\x69\x67\133\47\x64\x62\47\135\133\47\163\x6c\x61\x76\x65\47\x5d\133\47\61\47\135\133\47\x63\x68\x61\x72\x73\x65\164\x27\135\x20\75\40\x27\x75\164\146\x38\x27\x3b\xd\12\44\143\x6f\156\146\x69\x67\133\47\x64\142\x27\x5d\x5b\x27\x73\154\141\166\145\x27\135\x5b\x27\61\x27\135\133\x27\x70\x63\157\x6e\x6e\145\143\164\47\135\40\75\x20\x30\x3b\15\12\44\143\x6f\156\x66\151\x67\x5b\x27\144\x62\47\135\x5b\x27\x73\154\x61\166\145\47\135\133\x27\x31\47\135\x5b\47\164\x61\x62\154\145\x70\162\145\x27\x5d\40\75\40\x27\151\x6d\163\137\47\x3b\15\xa\44\143\157\156\146\151\x67\133\47\x64\x62\x27\x5d\133\47\x73\x6c\141\x76\x65\47\135\x5b\47\x31\47\135\x5b\x27\167\145\151\147\x68\x74\x27\135\x20\75\x20\60\73\15\12\15\12\44\143\x6f\x6e\x66\x69\147\133\47\x64\x62\x27\x5d\133\47\143\x6f\x6d\155\x6f\x6e\47\135\x5b\47\163\154\141\166\x65\x5f\x65\x78\x63\145\x70\164\x5f\x74\x61\x62\154\145\47\135\40\x3d\x20\x61\162\162\x61\x79\50\47\143\x6f\162\145\x5f\x73\145\163\x73\x69\x6f\156\x73\x27\x29\73\xd\12\15\12\x2f\57\x20\x2d\55\x2d\55\x2d\55\x2d\55\x2d\x2d\55\55\x2d\55\x2d\x2d\55\x2d\x2d\x2d\55\55\55\55\55\55\40\40\x43\x4f\116\x46\x49\x47\x20\103\117\x4f\x4b\x49\x45\40\x20\x2d\55\55\x2d\x2d\x2d\x2d\55\55\55\55\x2d\55\55\55\55\x2d\x2d\x2d\x2d\x2d\x2d\55\55\x2d\x2d\x2d\40\x2f\x2f\xd\xa\44\143\157\x6e\x66\x69\x67\x5b\47\x63\x6f\x6f\153\x69\145\47\x5d\x5b\x27\160\162\145\x27\135\40\x3d\40\x27\x7b\143\157\157\153\151\145\x70\x72\145\175\x27\x3b\15\xa\44\x63\157\x6e\x66\x69\x67\x5b\x27\143\x6f\x6f\153\x69\x65\x27\135\133\x27\x64\157\155\x61\x69\x6e\x27\135\x20\x3d\40\47\47\x3b\15\12\x24\143\x6f\156\146\151\147\x5b\x27\143\x6f\157\153\151\x65\x27\135\133\47\x70\x61\164\x68\47\135\40\x3d\x20\47\57\47\x3b\15\12\xd\xa\57\57\x20\x2d\x2d\55\55\x2d\55\x2d\55\55\x2d\55\x2d\55\55\55\55\x2d\x2d\x2d\x2d\55\x2d\x2d\55\55\x2d\40\x20\103\117\116\106\x49\x47\40\x53\x45\124\124\111\x4e\107\x20\40\55\x2d\55\x2d\x2d\55\55\x2d\x2d\55\x2d\55\55\55\55\55\x2d\x2d\x2d\x2d\x2d\55\x2d\x2d\55\x2d\x2d\40\x2f\57\xd\12\44\x63\x6f\156\146\x69\147\133\47\163\145\x74\x74\151\156\147\47\135\133\x27\x63\x68\141\x72\163\x65\164\47\x5d\x20\x3d\40\47\x75\x74\146\x2d\x38\x27\x3b\15\xa\44\x63\157\x6e\146\151\147\133\x27\x73\145\164\164\x69\x6e\147\x27\135\x5b\x27\143\x61\143\x68\x65\x27\135\x20\x3d\40\47\x6d\x79\163\161\x6c\47\x3b\15\12\x24\143\x6f\156\x66\151\x67\133\x27\x73\x65\x74\x74\151\156\147\x27\135\133\47\164\151\155\145\172\157\x6e\145\x27\135\x20\x3d\40\x27\101\x73\151\x61\57\123\150\x61\156\x67\x68\141\x69\47\x3b\15\xa\x24\143\x6f\156\146\x69\x67\x5b\x27\x73\x65\x74\x74\x69\156\147\x27\x5d\133\x27\155\x65\155\157\162\171\x5f\x6c\151\155\x69\164\47\x5d\x20\x3d\x20\47\x32\65\66\x4d\x27\x3b\15\xa\x24\143\x6f\x6e\x66\151\147\x5b\47\163\145\164\164\151\156\x67\x27\135\x5b\47\146\151\x6c\x65\155\157\144\x65\x27\135\40\x3d\40\x30\x36\64\64\73\15\12\44\143\157\x6e\x66\x69\147\133\47\163\145\164\x74\151\x6e\147\x27\x5d\x5b\47\141\x75\164\150\x6b\x65\x79\x27\135\x20\x3d\40\x27\x7b\x61\165\x74\150\x6b\x65\171\x7d\x27\73\15\12\x24\x63\x6f\x6e\146\x69\x67\133\47\163\x65\x74\164\x69\156\x67\x27\x5d\133\47\146\x6f\165\156\x64\x65\162\47\135\40\x3d\x20\47\x31\x27\73\xd\12\x24\x63\157\156\x66\x69\147\133\x27\163\x65\x74\x74\151\156\x67\47\x5d\133\47\x64\145\x76\145\154\157\x70\155\145\x6e\164\x27\135\40\75\x20\x30\73\xd\xa\44\143\x6f\156\146\x69\x67\133\47\x73\x65\x74\x74\151\156\x67\x27\x5d\x5b\x27\x72\145\146\145\x72\162\145\x72\47\x5d\x20\x3d\x20\x30\x3b\15\12\xd\12\57\57\40\55\x2d\55\55\55\x2d\55\x2d\x2d\55\x2d\55\55\55\x2d\x2d\55\x2d\55\55\55\x2d\x2d\x2d\55\x2d\40\40\x43\117\116\x46\x49\x47\x20\x55\120\114\117\x41\104\40\40\55\x2d\55\55\55\55\x2d\55\55\x2d\x2d\55\55\x2d\x2d\x2d\x2d\x2d\x2d\55\55\55\x2d\x2d\55\55\x2d\x20\x2f\57\xd\xa\44\x63\x6f\x6e\146\151\147\133\x27\x75\160\154\157\x61\x64\47\x5d\133\47\151\155\x61\x67\145\47\x5d\x5b\47\x65\170\164\145\156\x74\x69\157\x6e\x73\47\135\x20\75\x20\141\162\x72\141\171\50\47\x67\151\x66\47\x2c\x20\47\x6a\x70\147\x27\x2c\40\47\x6a\160\x65\147\x27\54\x20\x27\160\x6e\147\47\51\73\xd\12\44\143\x6f\156\146\151\x67\133\x27\165\160\x6c\157\141\x64\47\x5d\133\x27\x69\x6d\x61\147\145\47\135\133\x27\x6c\x69\x6d\x69\164\47\135\x20\x3d\x20\x35\60\x30\60\x3b\xd\12\44\x63\157\x6e\x66\151\x67\x5b\47\165\x70\x6c\x6f\141\144\x27\x5d\133\47\141\x74\x74\x61\143\x68\x64\151\x72\x27\x5d\40\75\x20\x27\x7b\x61\x74\x74\141\143\150\x64\x69\162\x7d\47\x3b\15\12\44\x63\x6f\x6e\146\x69\147\x5b\x27\165\x70\154\x6f\x61\x64\47\x5d\x5b\x27\141\x75\144\x69\x6f\47\135\133\x27\145\170\x74\145\x6e\164\151\157\x6e\x73\47\x5d\x20\75\40\141\x72\162\141\171\50\x27\155\x70\x33\47\51\73\15\xa\44\143\157\156\146\x69\147\x5b\x27\x75\160\x6c\x6f\x61\x64\x27\135\x5b\x27\141\165\144\151\x6f\x27\x5d\133\x27\154\151\155\151\164\x27\x5d\40\75\x20\65\x30\60\x30\73\xd\xa\15\xa\x2f\x2f\x20\55\55\55\x2d\x2d\55\x2d\55\x2d\x2d\x2d\55\x2d\55\x2d\55\x2d\55\x2d\55\x2d\x2d\55\55\55\55\x20\40\x43\117\x4e\x46\x49\x47\40\115\105\115\x43\x41\103\110\105\x20\x20\x2d\55\55\55\x2d\55\x2d\x2d\x2d\x2d\x2d\x2d\x2d\55\x2d\55\55\55\x2d\x2d\55\x2d\55\55\x2d\x2d\x2d\x20\57\57\15\12\x24\x63\x6f\156\146\x69\147\x5b\x27\163\145\x74\x74\x69\x6e\147\47\x5d\133\x27\x6d\145\x6d\x63\141\143\x68\145\47\x5d\x5b\x27\x73\x65\x72\x76\x65\162\x27\135\40\75\x20\x27\47\x3b\xd\xa\x24\143\x6f\156\146\151\147\133\47\x73\145\164\x74\x69\156\147\x27\x5d\x5b\x27\155\x65\x6d\x63\141\143\x68\x65\x27\135\133\47\160\157\x72\x74\x27\x5d\40\75\x20\61\x31\x32\x31\x31\x3b\15\xa\x24\x63\x6f\x6e\146\x69\147\x5b\47\163\145\x74\x74\x69\x6e\x67\x27\135\x5b\47\x6d\145\155\143\141\x63\x68\145\x27\135\x5b\x27\160\143\x6f\x6e\156\x65\x63\x74\47\x5d\40\x3d\x20\x31\73\xd\12\44\x63\x6f\156\146\x69\x67\x5b\47\x73\145\x74\x74\151\156\x67\47\x5d\x5b\x27\x6d\145\x6d\143\141\x63\x68\x65\x27\x5d\133\47\x74\151\x6d\x65\157\x75\164\x27\135\x20\x3d\x20\63\x30\x3b\xd\12\x24\x63\157\156\x66\x69\147\x5b\47\163\145\x74\x74\x69\156\147\x27\x5d\x5b\47\x6d\x65\155\143\141\x63\x68\x65\x27\135\133\x27\163\145\x73\163\x69\157\156\x27\x5d\x20\x3d\x20\61\73\xd\xa\15\xa\57\57\40\x2d\55\55\x2d\x2d\55\x2d\x2d\55\x2d\x2d\x2d\55\55\55\55\x2d\x2d\x2d\55\55\55\x2d\x2d\x2d\x2d\x20\40\103\x4f\x4e\x46\111\x47\x20\120\122\x4f\x58\x59\40\x20\55\x2d\x2d\55\x2d\55\55\x2d\x2d\x2d\55\x2d\55\x2d\x2d\55\55\x2d\55\x2d\55\x2d\55\x2d\55\x2d\x2d\x20\57\57\15\xa\x24\x63\157\x6e\x66\x69\x67\x5b\x27\163\x65\x74\164\x69\156\x67\x27\x5d\x5b\47\x70\x72\157\170\171\47\135\x5b\47\150\x6f\163\164\47\x5d\x20\75\x20\x27\x27\x3b\15\xa\x24\143\x6f\x6e\146\x69\x67\x5b\x27\x73\x65\x74\164\x69\156\147\47\135\133\47\x70\x72\157\170\171\x27\135\133\x27\141\x75\x74\150\47\135\40\75\40\x27\47\73"; return trim($cfg); } goto PxAlz; tVLfg: $ret["\156\145\164\167\157\x72\x6b\x5f\x65\x6e\141\x62\154\145\x64"]["\x66\x61\151\x6c\145\x64"] = true; goto dmBCb; AjYMk: if (!(file_exists(IA_INSTALL_ROOT . "\x2f\x64\141\x74\141\x2f\x69\x6e\x73\x74\x61\154\154\56\x6c\x6f\x63\153") && !in_array($action, array("\157\x61\165\x74\x68", "\x6c\x6f\x67\x69\x6e", "\147\x65\x74\x5f\163\151\x74\x65\153\145\171")))) { goto U1dbR; } goto eh78b; aesuc: yfoF7: goto yMxn2; oq5_u: $ret["\162\x6f\157\164"]["\162\145\163\165\x6c\x74"] = "\xe6\234\xac\xe5\234\260\347\233\xae\345\xbd\225\346\227\xa0\xe6\263\x95\345\206\x99\xe5\x85\xa5"; goto g5dVj; GPiJb: if (!($sitename != $siteroot . "\xe7\x9a\x84\347\xab\231\xe7\202\xb9")) { goto NOfFK; } goto mPigz; AV0pT: function we7_network_enable($host) { goto D90xy; qG3Xa: AKNSR: goto NdXSb; sxhw_: return false; goto X8xtW; AFosw: nRAVm: goto CANCB; B_DP8: DnllD: goto uMj4V; jTqKv: ykj8B: goto o5LC4; HMshQ: return false; goto xJi6Y; D90xy: if (!empty($host)) { goto snA0b; } goto woq5f; NdXSb: $if_local_network10 = preg_match("\57\136\x31\x30\134\x2e\50\61\134\x64\x7b\x32\175\x7c\x32\x5b\60\55\x34\x5d\x5c\x64\174\62\x35\133\x30\55\x35\x5d\174\133\61\x2d\71\135\134\144\174\x5c\144\x29\134\x2e\50\x31\134\144\x7b\x32\x7d\x7c\62\133\60\55\64\135\x5c\x64\x7c\x32\65\133\x30\55\65\x5d\x7c\x5b\x31\55\x39\x5d\134\144\174\134\144\51\x5c\x2e\50\x31\x5c\144\x7b\x32\175\x7c\62\133\60\55\64\x5d\134\x64\174\62\65\133\60\x2d\65\x5d\x7c\133\x31\x2d\71\135\134\144\174\x5c\144\x29\44\57", $host); goto fT8EP; XEQ3A: if ($httphost_is_ip) { goto AKNSR; } goto qGKY5; qGKY5: $dns_record = dns_get_record($host, DNS_A); goto z6gIV; dBz93: return false; goto jTqKv; X8xtW: E_Z0L: goto q7dkw; LijgE: $httphost_is_ip = preg_match("\x2f\x5e\x28\x31\134\x64\x7b\62\x7d\x7c\62\133\x30\x2d\64\135\134\x64\x7c\62\x35\133\x30\x2d\65\x5d\174\133\61\55\71\135\134\144\x7c\x5b\61\x2d\x39\135\51\134\x2e\x28\x31\134\x64\x7b\62\175\174\x32\133\x30\x2d\64\x5d\x5c\x64\x7c\x32\x35\x5b\60\x2d\x35\135\x7c\x5b\61\x2d\x39\135\134\144\174\134\x64\51\134\56\50\61\134\144\x7b\62\175\x7c\x32\x5b\x30\55\64\x5d\134\x64\174\x32\65\x5b\60\x2d\65\x5d\174\133\x31\55\71\x5d\x5c\x64\174\x5c\x64\x29\x5c\x2e\x28\x31\134\144\x7b\62\175\174\62\x5b\60\55\64\135\134\144\174\62\x35\x5b\x30\55\65\x5d\174\133\x31\x2d\71\x5d\x5c\144\174\134\x64\x29\x24\x2f", $host); goto XEQ3A; CANCB: $if_local_network192 = preg_match("\57\136\61\71\62\x5c\x2e\x31\66\x38\x5c\56\x28\61\134\144\173\62\175\x7c\x32\x5b\60\x2d\64\x5d\x5c\144\174\62\65\x5b\x30\55\x35\x5d\x7c\133\x31\x2d\x39\x5d\x5c\144\174\134\x64\x29\x5c\56\x28\x31\x5c\144\173\x32\x7d\x7c\62\133\60\x2d\64\x5d\134\144\x7c\62\65\133\60\x2d\x35\x5d\174\x5b\61\x2d\71\135\x5c\144\174\134\144\x29\x24\x2f", $host); goto KhBhY; dE0wf: snA0b: goto LijgE; DlmsT: return false; goto AFosw; woq5f: return false; goto dE0wf; SCWfY: return false; goto eP3C_; mfVO7: if (!$if_local_network172) { goto nRAVm; } goto DlmsT; ze3Uu: Z_rH2: goto du3re; o5LC4: $if_local_network172 = preg_match("\57\x5e\x31\67\x32\x5c\56\x28\x31\133\x36\x2d\x39\135\174\62\x5b\x30\x2d\71\135\174\x33\x5b\60\x2d\61\135\51\134\56\50\61\x5c\144\x7b\x32\175\174\62\x5b\60\x2d\x34\x5d\x5c\x64\x7c\62\65\x5b\60\55\x35\x5d\174\133\61\x2d\71\135\134\144\174\134\x64\51\134\x2e\x28\61\x5c\x64\x7b\x32\x7d\x7c\x32\x5b\60\x2d\x34\x5d\134\144\x7c\x32\x35\x5b\60\x2d\x35\135\x7c\x5b\61\x2d\x39\x5d\134\144\x7c\134\144\x29\44\x2f", $host); goto mfVO7; z6gIV: if (!(empty($dns_record) || empty($dns_record[0]["\151\x70"]) || $dns_record[0]["\x69\x70"] == "\x31\62\x37\56\60\x2e\x30\x2e\x31" || strpos($dns_record[0]["\x69\160"], "\x31\60\56") === 0)) { goto DnllD; } goto EadFw; fT8EP: if (!$if_local_network10) { goto ykj8B; } goto dBz93; xJi6Y: Vobsh: goto ze3Uu; EadFw: return false; goto B_DP8; du3re: return true; goto EIkU_; Qj8nz: if (!$if_local_network192) { goto E_Z0L; } goto sxhw_; uMj4V: $if_local_network172 = preg_match("\57\136\61\x37\x32\134\x2e\50\x31\x5b\66\55\x39\135\x7c\x32\x5b\60\55\x39\x5d\x7c\x33\133\x30\55\x31\135\x29\x5c\56\x28\x31\x5c\x64\x7b\62\x7d\x7c\x32\x5b\60\x2d\x34\135\x5c\144\x7c\62\x35\x5b\x30\55\x35\135\x7c\x5b\61\55\71\135\x5c\144\174\134\144\51\x5c\x2e\50\61\x5c\144\x7b\62\x7d\174\62\x5b\60\x2d\64\x5d\x5c\x64\x7c\62\65\x5b\60\x2d\65\x5d\x7c\x5b\61\55\x39\x5d\134\x64\174\x5c\x64\51\x24\57", $dns_record[0]["\151\160"]); goto BSNrI; q7dkw: goto Z_rH2; goto qG3Xa; KhBhY: if (!$if_local_network192) { goto Vobsh; } goto HMshQ; eP3C_: f6fZx: goto LFh5k; LFh5k: $if_local_network192 = preg_match("\x2f\136\x31\x39\x32\134\56\61\x36\70\134\x2e\x28\x31\x5c\144\173\x32\x7d\x7c\x32\133\60\x2d\x34\135\x5c\x64\x7c\x32\65\x5b\60\55\x35\x5d\x7c\x5b\61\x2d\71\135\134\x64\174\x5c\x64\51\x5c\56\50\61\134\x64\173\62\175\174\x32\x5b\60\55\64\135\134\144\x7c\x32\65\133\x30\55\65\x5d\x7c\x5b\61\55\x39\135\134\144\x7c\x5c\x64\x29\44\57", $dns_record[0]["\151\160"]); goto Qj8nz; BSNrI: if (!$if_local_network172) { goto f6fZx; } goto SCWfY; EIkU_: } goto zE5E_; eW2Uy: if (!($username != "\141\x64\x6d\x69\156" || $password != "\61\x32\x33\64\x35\66")) { goto OFHzX; } goto oZSJX; bdR9s: $fh = fopen("\x2e\x2f\167\145\x37\163\x6f\x75\162\143\145\x2e\172\151\x70", "\x77\x62"); goto ZRkcW; Q8ITn: if (!(!empty($auth["\165\162\154"]) && $auth["\x75\x72\x6c"] == $siteroot)) { goto EyEDW; } goto Zl4aR; FCRsj: if (!($register_site_result !== true)) { goto TCwVV; } goto nsSxf; xbp0Q: $register_site_result = we7_register_site(); goto FCRsj; qjHLp: fwiax: goto ra8Cs; VO31q: WnMm1: goto sdF9S; JPb0a: bEI3A: goto eGQa3; d5Yhz: $db_prefix = !empty($db_prefix) ? $db_prefix : "\151\x6d\x73\x5f"; goto A3c2H; SKhEQ: qRtx1: goto k9yDT; eYa3T: gOAj4: goto nH3EL; RNHQP: $is_https = $_SERVER["\x53\x45\122\x56\x45\122\137\x50\x4f\122\x54"] == 443 || isset($_SERVER["\x48\124\x54\120\x53"]) && strtolower($_SERVER["\x48\x54\124\x50\123"]) != "\157\x66\x66" || strtolower($_SERVER["\x48\x54\124\120\x5f\x58\137\106\117\122\127\x41\122\104\105\104\137\120\x52\117\124\x4f"]) == "\150\x74\x74\x70\x73" || strtolower($_SERVER["\110\x54\124\120\x5f\x58\137\103\114\111\x45\116\x54\137\123\x43\110\105\x4d\x45"]) == "\150\164\x74\x70\x73" ? true : false; goto jBF1K; UzXJE: we7_handle_chunk(); goto e25s3; N3VlW: $database_result = we7_db(); goto vV0mF; QgRT2: $ret["\x76\145\162\x73\151\157\156"]["\146\x61\151\x6c\x65\x64"] = true; goto UHdu9; xYATl: function we7_build_config($server, $db_username, $db_password, $db_name, $db_prefix) { goto VXziy; doiwo: local_mkdirs(IA_INSTALL_ROOT . "\x2f\x64\141\x74\x61"); goto gAUwr; bghW9: $config = str_replace(array("\x7b\144\142\55\x73\x65\162\x76\145\x72\x7d", "\x7b\x64\142\x2d\165\x73\x65\162\x6e\141\x6d\145\175", "\173\x64\142\55\x70\141\x73\163\167\x6f\162\x64\175", "\x7b\x64\x62\x2d\x70\157\x72\164\x7d", "\x7b\144\142\55\x6e\141\155\x65\175", "\173\144\142\x2d\164\x61\142\x6c\145\160\162\145\175", "\173\143\x6f\157\x6b\x69\x65\160\162\145\x7d", "\173\x61\x75\x74\x68\153\145\171\175", "\x7b\x61\164\x74\141\143\150\x64\151\162\x7d"), array($db["\163\145\162\x76\x65\162"], $db["\x75\163\x65\x72\x6e\141\x6d\x65"], $db["\x70\x61\x73\x73\x77\x6f\x72\144"], $db["\160\157\x72\164"], $db["\x6e\x61\155\145"], $db["\x70\x72\145\146\x69\170"], $cookiepre, $authkey, "\141\x74\164\141\143\x68\155\x65\156\164"), $config); goto doiwo; gcmEi: $config = local_config(); goto hLiHZ; DADPJ: $pieces = explode("\x3a", $server); goto o41s9; gAUwr: $result = file_put_contents(IA_INSTALL_ROOT . "\x2f\144\141\164\141\57\x63\157\x6e\146\x69\x67\56\x70\150\x70", $config); goto HyNIO; VXziy: if (!(empty($server) || empty($db_username) || empty($db_password) || empty($db_name))) { goto p1bkF; } goto ySX7B; D4Pt3: p1bkF: goto DADPJ; FGM1D: try { goto bPXAy; nwKQK: if (substr($link->getAttribute(PDO::ATTR_SERVER_VERSION), 0, 3) > "\64\56\61") { goto Wg1co; } goto lDR__; IEgU9: $fetch = $statement->fetch(); goto UkLMW; Qx7HG: goto QeS7U; goto Qraf_; vRGYp: $link->exec("\123\x45\x54\x20\x73\x71\x6c\137\155\157\144\x65\x3d\47\x27"); goto X_vZM; NAgWw: if (!empty($fetch)) { goto SgcW4; } goto nwKQK; bPXAy: $link = new PDO("\155\171\x73\x71\x6c\72\150\157\163\164\x3d{$db["\x73\x65\162\x76\145\162"]}\x3b\x70\157\x72\x74\x3d{$db["\x70\157\x72\x74"]}", $db["\165\x73\x65\162\x6e\141\155\145"], $db["\160\x61\163\163\167\157\162\x64"]); goto GM3d7; hjFJI: $statement = $link->query("\123\x48\117\127\x20\x54\x41\102\114\x45\123\x20\114\x49\x4b\105\x20\x27{$db["\160\162\145\x66\151\170"]}\45\47\73"); goto IC6mw; Ki0MU: pNIcD: goto Qx7HG; Qraf_: CWtY2: goto yJ00B; vC15X: $errorInfo = $link->errorInfo(); goto wYvzT; wYvzT: $error .= $errorInfo[2]; goto Ki0MU; WiZo3: qTFJz: goto vRpET; sJ4O2: $error = "\346\225\260\346\215\256\xe5\xba\x93\xe4\xb8\x8d\345\xad\x98\xe5\x9c\xa8\344\xb8\x94\345\210\233\345\273\272\346\225\xb0\346\215\256\345\272\x93\345\244\261\350\xb4\xa5\x2e"; goto WiZo3; M719N: $link->query("\103\122\x45\x41\x54\105\x20\x44\101\124\101\102\x41\x53\105\40\x49\106\40\x4e\117\x54\x20\105\x58\x49\123\124\123\x20\140{$db["\156\x61\155\x65"]}\140\40\104\105\x46\x41\125\x4c\x54\40\x43\110\x41\122\x41\x43\x54\105\122\x20\123\x45\124\x20\165\164\x66\x38"); goto y_lzl; IC6mw: if (!$statement->fetch()) { goto lQCIc; } goto ADKVI; X_vZM: if ($link->errorCode() != "\60\x30\x30\60\x30") { goto CWtY2; } goto Sufdb; mgO12: Wg1co: goto M719N; AmxTt: lQCIc: goto WQrUT; GM3d7: $link->exec("\123\x45\124\x20\x63\x68\141\x72\141\143\x74\145\162\137\163\145\x74\x5f\x63\x6f\156\156\x65\143\164\x69\x6f\156\x3d\165\164\146\x38\x2c\40\x63\x68\141\x72\141\143\x74\x65\x72\x5f\x73\x65\x74\x5f\162\145\163\x75\x6c\164\x73\x3d\x75\x74\x66\x38\54\40\x63\x68\x61\x72\x61\143\164\145\x72\x5f\163\145\x74\x5f\x63\x6c\151\145\x6e\164\x3d\x62\151\156\141\x72\171"); goto vRGYp; yzxf9: SgcW4: goto rsygh; Sufdb: $statement = $link->query("\x53\x48\x4f\127\x20\x44\x41\x54\x41\x42\101\x53\x45\123\x20\114\111\113\105\40\x27{$db["\x6e\141\155\145"]}\x27\73"); goto H2Vqt; rsygh: $statement = $link->query("\123\110\117\x57\x20\x44\x41\124\x41\102\101\123\x45\123\40\114\x49\x4b\105\x20\47{$db["\x6e\x61\x6d\145"]}\47\x3b"); goto IEgU9; JT1oE: QeS7U: goto CnZDc; yJ00B: $errorInfo = $link->errorInfo(); goto R6TP8; CnZDc: $link->exec("\x55\x53\x45\40{$db["\x6e\x61\x6d\145"]}"); goto hjFJI; H2Vqt: $fetch = $statement->fetch(); goto NAgWw; ADKVI: return "\346\202\xa8\347\232\x84\346\x95\xb0\xe6\x8d\256\345\xba\x93\xe4\xb8\x8d\344\xb8\xba\347\251\272\357\274\214\350\xaf\xb7\351\207\x8d\xe6\x96\xb0\345\273\xba\xe7\xab\213\346\x95\xb0\346\215\xae\xe5\272\223\346\210\226\xe6\230\257\xe6\xb8\205\347\xa9\xba\350\257\xa5\xe6\225\xb0\346\x8d\xae\xe5\xba\x93\346\x88\226\xe6\x9b\xb4\xe6\x94\271\xe8\xa1\250\xe5\211\x8d\xe7\274\x80\xef\xbc\x81"; goto AmxTt; vRpET: if (!($link->errorCode() != "\60\60\x30\x30\x30")) { goto pNIcD; } goto vC15X; R6TP8: $error = $errorInfo[2]; goto JT1oE; y_lzl: UM41l: goto yzxf9; t5s2c: goto UM41l; goto mgO12; UkLMW: if (!empty($fetch)) { goto qTFJz; } goto sJ4O2; lDR__: $link->query("\x43\122\x45\101\124\105\x20\x44\101\x54\x41\102\x41\123\105\x20\111\x46\x20\x4e\x4f\x54\x20\105\130\x49\123\x54\x53\x20\140{$db["\x6e\141\x6d\145"]}\x60"); goto t5s2c; WQrUT: } catch (PDOException $e) { goto sqZVA; TDn30: goto BWuUi; goto TjKgg; VwGxr: $error = iconv("\x67\x62\x6b", "\165\164\146\x38", $error); goto TDn30; sqZVA: $error = $e->getMessage(); goto n9xlI; nDCsQ: BWuUi: goto HeGTA; TjKgg: tUxlV: goto mnxg9; n9xlI: if (strpos($error, "\x41\143\x63\145\163\x73\x20\x64\145\x6e\151\145\x64\40\x66\x6f\162\40\165\163\145\162") !== false) { goto tUxlV; } goto VwGxr; mnxg9: $error = "\346\x82\xa8\347\x9a\204\346\x95\260\xe6\215\256\xe5\xba\x93\xe8\256\277\xe9\x97\xae\xe7\x94\250\346\210\267\xe5\x90\215\346\210\x96\346\230\257\xe5\xaf\x86\347\240\x81\xe9\x94\x99\xe8\257\257\56"; goto nDCsQ; HeGTA: } goto sc_p2; XYGoL: GXoCT: goto gcmEi; hLiHZ: $cookiepre = local_salt(4) . "\x5f"; goto XnIYS; XnIYS: $authkey = local_salt(8); goto bghW9; ySX7B: return false; goto D4Pt3; PyI8k: return $error; goto XYGoL; sc_p2: if (empty($error)) { goto GXoCT; } goto PyI8k; o41s9: $db = array("\x73\x65\x72\166\145\162" => $pieces[0] == "\x31\x32\x37\x2e\x30\56\x30\x2e\61" ? "\154\x6f\143\x61\154\x68\157\x73\x74" : $pieces[0], "\x70\x6f\162\164" => !empty($pieces[1]) ? $pieces[1] : "\x33\x33\60\x36", "\x75\163\x65\162\x6e\x61\155\145" => $db_username, "\160\x61\x73\x73\167\157\x72\144" => $db_password, "\160\162\145\x66\x69\170" => $db_prefix, "\156\141\155\145" => $db_name); goto FGM1D; HyNIO: return $result !== false ? true : false; goto N4Z2p; N4Z2p: } goto xOf0u; QidJR: $ret["\x64\141\x74\x61"]["\146\x61\151\x6c\x65\144"] = true; goto c7PYg; li8I_: foreach ($ret as $key => $value) { goto u7wVY; KkcTm: $value["\150\x61\156\144\x6c\145"] = !empty($value["\x68\141\156\x64\154\x65"]) ? $value["\150\141\156\144\x6c\x65"] : "\x68\164\164\x70\72\x2f\57\x73\x2e\167\x37\x2e\143\x63\x2f\167\157\x2f\160\162\x6f\142\x6c\x65\155\x2f\x34\66"; goto yBSuk; mklxw: if (!$value["\146\141\151\154\145\x64"]) { goto bmQPr; } goto KkcTm; doolr: bmQPr: goto yZ2UZ; yZ2UZ: t5hwm: goto KCx57; yBSuk: $result[] = $value; goto doolr; Hcfxl: eOMTR: goto mklxw; ezsa9: goto t5hwm; goto Hcfxl; u7wVY: if (!(version_compare(PHP_VERSION, "\x37\56\60\x2e\60") >= 0 && in_array($key, array("\155\143\162\171\x70\x74", "\x61\154\167\x61\171\163\137\x70\157\x70\x75\154\141\164\145\x5f\162\141\167\137\x70\x6f\163\x74\x5f\144\x61\164\x61")))) { goto eOMTR; } goto ezsa9; KCx57: } goto n6qVN; yl1Cp: if (empty($result)) { goto XB5lQ; } goto GkMzt; vHlb3: $dbfile = IA_INSTALL_ROOT . "\x2f\144\141\164\141\x2f\144\x62\x2e\x70\x68\160"; goto KoFke; k4YYV: rename("\151\x6e\x73\x74\141\154\154\x2e\160\x68\x70", "\x69\156\x73\164\141\x6c\x6c\x2e\160\x68\x70\56\142\141\153"); goto ZaISO; Uqx6F: $ret["\144\x61\x74\141"]["\162\x65\163\165\154\164"] = "\144\x61\x74\141\347\233\xae\345\275\x95\xe6\x97\xa0\346\263\x95\345\206\x99\xe5\205\xa5"; goto xF6wW; z4V_W: function we7_register_site() { goto WzT6r; UCm_F: $callback = urlencode($siteroot . "\57\151\x6e\163\164\141\x6c\154\56\x70\x68\160\x3f\x73\164\x65\160\x3d\x72\145\x67\x69\x73\x74\145\162\x5f\143\141\x6c\x6c\x62\x61\x63\x6b"); goto TNMuA; geRpS: if (is_array($data) && isset($data["\x65\x72\x72\x6f\x72"])) { goto ryDz4; } goto LjlYc; Z9LDb: return $data["\x65\x72\162\x6f\162"]; goto w_zv0; CFocA: require IA_INSTALL_ROOT . "\x2f\146\162\141\x6d\x65\x77\157\x72\153\x2f\x76\145\162\x73\151\157\x6e\56\151\156\x63\x2e\x70\150\x70"; goto EI6Ut; TNMuA: $post = array("\141\143\143\145\x73\163\x5f\x74\x6f\x6b\145\x6e" => $accesstoken, "\156\x61\x6d\145" => $siteroot . "\347\232\204\347\253\x99\xe7\x82\xb9", "\165\x72\x6c" => $siteroot, "\x76\x65\162\x73\151\157\156" => $version, "\162\145\x6c\145\141\163\x65" => $release, "\x63\x61\154\154\x62\141\x63\x6b" => $callback, "\151\156\x73\x74\x61\154\154\x5f\164\x79\160\x65" => 1); goto UoQXm; bfG_z: goto NHdnR; goto x2GFP; EI6Ut: $version = IMS_VERSION; goto CpCHW; WzT6r: global $siteroot, $accesstoken; goto yh0t0; CpCHW: $release = IMS_RELEASE_DATE; goto UCm_F; UoQXm: $data = we7_request_api(API_OAUTH_REGISTER_SITE, $post); goto geRpS; w_zv0: NHdnR: goto I4vUw; yh0t0: define("\111\x4e\137\111\x41", true); goto CFocA; x2GFP: ryDz4: goto Z9LDb; LjlYc: return true; goto bfG_z; I4vUw: } goto bRw4j; Tg4ym: ini_set("\x64\x69\163\x70\x6c\141\x79\137\145\x72\162\x6f\162\x73", 0); goto D10Es; YzZzy: if (!(version_compare(PHP_VERSION, "\x35\56\x33\x2e\60") == -1)) { goto qRtx1; } goto QgRT2; fGZpt: $sitekey = $_W["\x73\145\164\164\151\x6e\147"]["\163\151\164\145"]["\153\x65\x79"]; goto k4YYV; Fv2BV: z71ch: goto b67sO; FMz2I: if (!($finished === true)) { goto H1j2B; } goto CO0VN; QmrvJ: goto p8dAN; goto MzPKg; dmBCb: $ret["\x6e\145\x74\167\157\x72\x6b\x5f\x65\x6e\x61\142\x6c\145\x64"]["\x6e\141\155\x65"] = "\345\244\x96\xe7\275\x91\345\217\xaf\xe8\xae\277\xe9\227\xae\346\200\247"; goto VEfBi; KmLIS: LNl3_: goto UCh2D; jetn7: PbNZP: goto xgGUl; UqfTn: exit(we7_error(400, "\x63\x68\x75\156\x6b\xe5\244\247\344\xba\216\xe6\x9c\200\xe5\244\247\xe5\200\xbc")); goto j82Yq; JMHTb: we7_setcookie("\160\141\x63\x6b\x61\147\x65\x5f\x6d\x64\65", $data["\155\x64\65"]); goto kKqJe; vIJIY: if (!($action == "\x63\150\145\143\153\x5f\163\151\164\x65")) { goto t6__y; } goto c4u57; nO9Mt: if (!($action == "\147\145\164\x5f\163\x69\x74\x65\153\145\x79")) { goto yIYjz; } goto bvdp9; ny3lg: exit(we7_error(0, $result)); goto IjlBw; M0ePb: XB5lQ: goto ptTdP; pUzE5: function we7_get_accesstoken() { goto qZKnz; hvF8p: $accesstoken = json_decode($cookie_accesstoken, true); goto yfR0d; EYlY9: mx0Ea: goto cOPhE; cOPhE: return ''; goto lwe2m; zVAU_: return $accesstoken["\141\x63\143\x65\x73\x73\x54\157\x6b\145\156"]; goto EYlY9; yfR0d: if (!(!empty($accesstoken) && !empty($accesstoken["\x61\x63\x63\x65\x73\163\x54\157\153\145\x6e"]) && $accesstoken["\x65\x78\160\151\162\x65\124\x69\155\145"] > time())) { goto mx0Ea; } goto zVAU_; qZKnz: $cookie_accesstoken = we7_getcookie("\x61\143\143\145\x73\163\164\157\153\145\156"); goto hvF8p; lwe2m: } goto DJOyC; ihz3y: if ($ret["\162\x6f\x6f\x74"]["\x6f\153"]) { goto RV0Q8; } goto kChPp; hskXS: $db_prefix = trim($_POST["\160\162\x65\x66\151\x78"]); goto d5Yhz; M61nf: aEMdN: goto A1sgp; uVLnB: $ret["\141\x73\x70\x5f\x74\x61\x67\x73"]["\157\x6b"] = ini_get("\x61\163\160\x5f\164\x61\x67\x73"); goto m0wUm; D0ytC: H1j2B: goto iNp7i; UtTUD: function we7_finish() { goto aU15W; C0CTN: require IA_INSTALL_ROOT . "\57\167\145\x62\x2f\143\x6f\155\x6d\157\x6e\x2f\142\x6f\x6f\x74\163\164\x72\141\x70\x2e\x73\171\x73\56\151\x6e\143\x2e\160\150\x70"; goto twnOa; mjOu5: goto H3cJT; goto slTmD; NJAXc: load()->model("\143\x61\x63\x68\145"); goto BVRE1; fRB1L: load()->web("\164\145\x6d\x70\x6c\141\x74\145"); goto mp4SU; WNvEu: cache_build_users_struct(); goto wdccQ; Muqax: $chunk_num = we7_getcookie("\143\150\x75\156\153\137\164\157\x74\141\154"); goto jLCGw; cLZXc: @unlink("\x2e\57\x63\x68\165\x6e\x6b\x5f" . $i); goto K9exC; GPbdZ: cache_build_setting(); goto WNvEu; K9exC: R31rr: goto EZprW; otl0Q: we7_setcookie("\151\155\163\137\x66\x61\x6d\151\154\171", '', -10); goto TqH4j; yUSbv: we7_setcookie("\x63\150\x75\156\x6b\137\x74\x6f\164\x61\x6c", '', -10); goto lzi2A; A3Yby: $i = 1; goto VySVU; ns1jx: define("\111\116\x5f\123\131\x53", true); goto Up6Xs; p8ZFh: load()->web("\x63\157\155\x6d\x6f\x6e"); goto fRB1L; lzi2A: @unlink(IA_INSTALL_ROOT . "\57\x64\141\x74\141\x2f\144\x62\56\160\x68\x70"); goto R9e2E; mp4SU: load()->model("\163\x65\164\x74\x69\156\147"); goto NJAXc; EZprW: $i++; goto mjOu5; wdccQ: cache_build_module_subscribe_type(); goto HN23o; HUmQB: @unlink(IA_INSTALL_ROOT . "\x2f\x63\157\156\163\x6f\154\x65\x2e\160\x68\x70"); goto j4Slm; eOzKz: if (!($i <= $chunk_num)) { goto qMvP5; } goto cLZXc; twnOa: $_W["\x75\151\144"] = $_W["\x69\163\146\x6f\x75\x6e\144\145\162"] = 1; goto p8ZFh; j4Slm: @unlink(IA_INSTALL_ROOT . "\57\x69\x6e\151\x74\x2e\x73\x68"); goto TxpU3; OP0DC: cache_build_frame_menu(); goto GPbdZ; R9e2E: @unlink(IA_INSTALL_ROOT . "\57\x64\x61\164\x61\57\x64\142\56\x6c\157\143\x6b"); goto HUmQB; PKqZl: we7_setcookie("\x70\141\143\153\x61\147\145\137\x6d\x64\65", '', -10); goto yUSbv; Up6Xs: require IA_INSTALL_ROOT . "\57\x66\x72\141\x6d\x65\167\157\162\x6b\x2f\x62\157\x6f\x74\x73\164\x72\141\160\x2e\x69\x6e\x63\x2e\x70\150\x70"; goto C0CTN; slTmD: qMvP5: goto PKqZl; aU15W: global $_W; goto Muqax; WFBC5: setting_upgrade_version(we7_getcookie("\151\x6d\163\x5f\x66\x61\155\151\154\171"), IMS_VERSION, IMS_RELEASE_DATE); goto otl0Q; TxpU3: @unlink(IA_INSTALL_ROOT . "\x2f\143\150\141\156\x67\145\56\163\x68"); goto ns1jx; VySVU: H3cJT: goto eOzKz; HN23o: return true; goto M2XAh; TqH4j: cloud_reset_siteinfo(); goto OP0DC; jLCGw: @unlink("\x2e\57\x77\145\67\x73\x6f\x75\x72\143\145\x2e\172\151\160"); goto A3Yby; BVRE1: load()->model("\x63\x6c\157\x75\144"); goto WFBC5; M2XAh: } goto yRMWb; hpa90: $siteroot = htmlspecialchars(($is_https ? "\150\164\164\160\x73\x3a\x2f\57" : "\150\x74\164\x70\x3a\x2f\x2f") . (isset($_SERVER["\110\x54\x54\120\x5f\110\117\123\124"]) ? $_SERVER["\110\124\124\x50\137\x48\117\x53\x54"] : '') . $sitepath); goto DDUW_; bHk5E: $sitename = trim($_POST["\x73\x69\164\x65\156\x61\x6d\x65"]); goto YbaK_; D10Es: error_reporting(0); goto rTZgt; YUTZU: define("\x41\x50\111\137\x55\120\x44\101\124\x45\x5f\x53\111\124\x45\x4e\101\x4d\105", API_HOST . "\57\163\x69\x74\x65\57\x72\145\147\x69\163\164\x65\162\57\162\145\x6e\141\x6d\145"); goto sCRZZ; mrQ52: $result = intval($download_size / $source_size * 100); goto ny3lg; P1d1h: define("\111\101\137\111\116\123\x54\101\x4c\114\137\122\x4f\x4f\124", str_replace("\134", "\x2f", dirname(__FILE__))); goto y6Nlu; Zl4aR: define("\x49\116\x5f\123\x59\123", true); goto G5gL8; S1jhv: XNzHX: goto H0ASl; PeKld: $action = in_array($action, $actions) ? $action : ''; goto AjYMk; e25s3: djCc8: goto SfgP0; kKqJe: we7_setcookie("\143\x68\165\156\x6b\x5f\x74\157\x74\x61\154", $data["\x63\x68\165\156\x6b\137\164\x6f\164\x61\x6c"]); goto wtvuV; Cs_ha: if (!(!file_exists(IA_INSTALL_ROOT . "\57\x64\141\x74\141\x2f\143\x6f\x6e\x66\x69\x67\56\x70\x68\160") || !empty($_POST))) { goto UX76l; } goto Hmuyq; zGYPI: $ret["\162\x6f\x6f\x74"]["\157\153"] = local_writeable(IA_INSTALL_ROOT); goto ihz3y; XadVk: exit(we7_error(400, $data["\145\162\162\x6f\x72"])); goto TqluX; DcmvO: $ret["\x75\160\154\x6f\x61\144"]["\x66\141\151\154\145\x64"] = true; goto xH6yQ; xH6yQ: $ret["\165\160\154\x6f\141\144"]["\x6e\x61\x6d\145"] = "\xe4\xb8\212\xe4\274\xa0\xe9\231\220\xe5\210\xb6"; goto d0kuw; XBsQC: if (file_exists(IA_INSTALL_ROOT . "\57\144\141\164\x61\x2f\x64\x62\56\x6c\x6f\x63\153")) { goto K44pe; } goto N3VlW; V1qcw: exit(we7_error(400, $chunk_num)); goto sK1sV; KX_Nr: $data = we7_request_api(API_GET_CHUNK_PACKAGE, $post); goto IYEbW; VEfBi: $ret["\x6e\x65\164\167\x6f\162\x6b\x5f\x65\156\x61\142\154\145\144"]["\162\145\x73\x75\x6c\x74"] = "\xe5\244\226\xe7\xbd\x91\xe4\270\215\xe5\x8f\xaf\350\xae\277\xe9\x97\xae"; goto e9XTq; pPDAr: we7_finish(); goto GPiJb; OY4or: if (!(!file_exists(IA_INSTALL_ROOT . "\x2f\144\x61\x74\141\57\151\x6e\x73\x74\x61\x6c\154\56\154\157\143\153") && !$registered_site)) { goto aEMdN; } goto xbp0Q; QlH5h: exit(we7_error(400, $chunk_num)); goto eL4Ib; m0wUm: if (!(!empty($ret["\x61\163\x70\x5f\164\x61\147\x73"]["\x6f\153"]) && strtolower($ret["\141\163\160\x5f\164\x61\147\163"]["\157\x6b"]) == "\157\156")) { goto AyMeW; } goto D1f6a; b8Ysk: define("\101\x50\111\137\x4f\101\x55\124\110\x5f\x52\105\107\x49\123\124\105\122\137\123\x49\124\105", API_HOST . "\57\x73\x69\164\145\57\162\x65\x67\151\163\164\145\162\x2f\x69\x6e\x64\145\170"); goto YUTZU; hp3PO: exit(we7_error(0, "\163\x75\143\x63\x65\x73\163")); goto Leoqj; rG9zZ: function we7_error($num, $message = "\x73\x75\143\x63\x65\163\163") { $num = intval($num); return json_encode(array("\145\x72\x72\156\157" => $num, "\x64\x61\164\141" => $message)); } goto kLdId; g3VaC: if (!($registered_site == 1)) { goto gzIGD; } goto WTs5j; uSKDE: function local_salt($length = 8) { goto sx02m; sx02m: $strs = "\101\102\103\104\105\106\107\110\111\x4a\113\114\115\116\x4f\x50\121\122\x53\x54\x55\x56\127\x58\x59\132\141\x62\x63\x64\x65\x66\x67\150\151\x6a\153\x6c\x6e\155\x6f\x70\161\x72\x73\x74\165\x76\167\170\171\x7a\x30\61\x32\x33\x34\x35\66\x37\70\71"; goto XGr3o; XGr3o: $result = substr(str_shuffle($strs), mt_rand(0, strlen($strs) - ($length + 1)), $length); goto eqTai; eqTai: return $result; goto pWMg_; pWMg_: } goto YprsK; IjlBw: JvGiG: goto Nfl8Q; yMxn2: YukYr: goto ssnJO; ra8Cs: NOfFK: goto eW2Uy; WTs5j: we7_setcookie("\x63\x68\x75\x6e\x6b\x5f\164\x6f\x74\x61\154", 1); goto yn7AB; mzGjz: $ret["\x64\157\x6d"]["\156\141\x6d\x65"] = "\104\x4f\115\x44\157\x63\165\155\145\156\164"; goto Gxmis; nNdBz: ob_start(); goto P1d1h; K323n: clearstatcache(); goto PR_xr; g5dVj: RV0Q8: goto MZEQ6; WNddQ: $sitepath = str_replace("\x2f\151\156\163\x74\x61\x6c\154\x2e\160\x68\x70", '', $sitepath); goto hpa90; b8efE: oxn7B: goto mvtkd; z4NwW: $post = array("\141\143\x63\x65\x73\x73\137\164\157\153\145\156" => $accesstoken, "\x63\150\x75\x6e\x6b" => $chunk_num); goto KX_Nr; xOf0u: function we7_db() { goto AE3n1; wq1kM: $link = new PDO("\155\171\163\161\154\72\x64\142\156\x61\155\x65\75{$db["\x6e\141\x6d\145"]}\x3b\x68\157\163\164\75{$db["\x73\145\162\166\x65\162"]}\73\x70\157\162\x74\x3d{$db["\160\157\162\164"]}", $db["\x75\x73\x65\x72\x6e\141\x6d\145"], $db["\x70\141\x73\163\167\157\x72\144"]); goto DPJfd; O22Kp: if (file_exists(IA_INSTALL_ROOT . "\x2f\151\x6e\x64\x65\x78\x2e\160\150\x70") && is_dir(IA_INSTALL_ROOT . "\x2f\x77\145\x62") && file_exists(IA_INSTALL_ROOT . "\57\146\x72\x61\x6d\x65\167\157\x72\x6b\x2f\166\x65\x72\163\x69\x6f\x6e\56\151\156\143\x2e\x70\x68\160") && file_exists($dbfile)) { goto Pgh37; } goto sL_mk; pSEZl: foreach ($all_engines as $engine) { goto WBZLB; WBZLB: if (!(strtolower($engine["\105\x6e\147\151\x6e\x65"]) == "\151\x6e\156\157\x64\x62" && in_array(strtolower($engine["\x53\x75\x70\160\x6f\x72\x74"]), array("\144\x65\x66\141\165\154\x74", "\171\145\163")))) { goto vjw74; } goto YMww4; YMww4: $support_innodb = true; goto CUDwy; CUDwy: vjw74: goto XoUA6; XoUA6: uzbes: goto SEFUM; SEFUM: } goto Itt8i; CfE2T: $dat = (require $dbfile); goto YrjI3; sL_mk: return "\345\xae\x89\xe8\243\x85\345\x8c\x85\344\270\215\346\xad\243\347\xa1\xae\56"; goto Ou20P; AE3n1: global $is_https; goto M9QfR; NjqLj: R2CUx: goto fvzPk; JerDJ: $all_engines = $engines->fetchAll(); goto pSEZl; pLHgQ: $authkey = $config["\x73\145\x74\164\151\156\147"]["\x61\x75\164\150\x6b\145\x79"]; goto wq1kM; rCBqL: Ux35S: goto WeHi4; YrjI3: if (!(empty($dat) || !is_array($dat))) { goto DMj4K; } goto GURwZ; Vc9F0: $salt = local_salt(8); goto gMdvA; A1jZ1: Pgh37: goto CfE2T; a7jrz: return true; goto a1OUh; dcGcj: $engines = $link->query("\x53\x48\x4f\x57\x20\x45\x4e\107\111\x4e\x45\123\73"); goto JerDJ; biR4e: $cookie["\x75\x69\x64"] = $link->lastInsertId(); goto yqz7r; WeHi4: WM_mE: goto bWWj5; Itt8i: BGblP: goto rBO8G; yqz7r: $cookie["\150\x61\x73\x68"] = md5($password . $salt); goto Xzfnd; GURwZ: return "\xe5\xae\x89\xe8\243\x85\345\214\x85\xe4\270\x8d\346\xad\243\347\xa1\xae\54\x20\346\x95\260\346\215\xae\345\xae\211\350\xa3\x85\350\x84\232\346\234\254\xe7\274\272\345\xa4\xb1\56"; goto jtNTb; gMdvA: $password = sha1("{$user["\x70\141\163\x73\167\157\x72\144"]}\x2d{$salt}\x2d{$authkey}"); goto fIo3U; ZGhkX: setcookie("{$cookiepre}\x5f\137\163\145\x73\163\x69\x6f\156", $session, 0, "\x2f", '', $secure, true); goto a7jrz; Xzfnd: $session = install_authcode(json_encode($cookie), "\x65\156\143\157\144\145", $authkey); goto wzjlx; rBO8G: foreach ($dat["\x73\143\150\x65\x6d\x61\163"] as $schema) { goto q91zV; uMfml: CBnDD: goto ufy_C; Zmx6c: local_run($sql, $link, $db); goto uMfml; q91zV: $sql = local_create_sql($schema, $support_innodb); goto Zmx6c; ufy_C: } goto NjqLj; qSqED: $cookiepre = $config["\143\x6f\x6f\x6b\151\x65"]["\x70\162\x65"]; goto pLHgQ; wXWS6: $support_innodb = false; goto dcGcj; wzjlx: $secure = $is_https ? 1 : 0; goto ZGhkX; cwJw1: $link->exec("\123\x45\124\x20\x73\161\x6c\x5f\x6d\157\x64\x65\x3d\x27\47"); goto jyEn2; MV4hE: $cookie = array("\x6c\x61\163\x74\x76\151\163\x69\x74" => '', "\x6c\x61\163\x74\151\160" => ''); goto biR4e; A9dsz: require IA_INSTALL_ROOT . "\57\x64\x61\x74\141\x2f\x63\x6f\x6e\x66\x69\147\56\160\x68\160"; goto Jichx; Jichx: $db = array("\x73\x65\162\166\x65\x72" => $config["\x64\x62"]["\x6d\x61\x73\164\x65\x72"]["\150\x6f\x73\x74"], "\160\x6f\x72\x74" => $config["\144\x62"]["\155\x61\x73\164\145\162"]["\x70\157\x72\x74"], "\x75\163\145\x72\156\141\155\x65" => $config["\x64\142"]["\155\141\163\164\145\162"]["\x75\163\145\x72\x6e\141\155\145"], "\x70\x61\163\x73\x77\157\x72\x64" => $config["\x64\x62"]["\x6d\x61\x73\x74\x65\x72"]["\x70\141\x73\163\167\157\x72\144"], "\160\x72\x65\146\x69\x78" => $config["\x64\x62"]["\155\x61\163\x74\x65\162"]["\164\x61\142\x6c\145\x70\162\x65"], "\156\141\x6d\145" => $config["\144\x62"]["\155\141\x73\x74\145\162"]["\144\141\164\141\142\x61\163\x65"]); goto qSqED; jtNTb: DMj4K: goto wXWS6; DPJfd: $link->exec("\123\x45\x54\x20\x63\x68\x61\x72\x61\x63\x74\145\x72\137\x73\145\164\x5f\143\157\x6e\x6e\145\143\164\151\x6f\156\75\x75\x74\146\70\x2c\x20\x63\150\141\x72\x61\143\x74\145\162\137\163\145\x74\137\x72\145\x73\x75\x6c\x74\x73\75\165\164\x66\70\x2c\x20\143\x68\141\x72\x61\143\x74\x65\162\137\x73\x65\x74\x5f\x63\x6c\x69\x65\156\x74\75\x62\151\156\141\162\x79"); goto cwJw1; fIo3U: $link->exec("\x49\116\x53\x45\x52\x54\x20\x49\x4e\x54\x4f\40{$db["\160\x72\145\146\x69\170"]}\165\x73\145\162\163\40\50\165\x73\145\162\x6e\141\155\145\x2c\x20\160\x61\163\x73\x77\157\162\144\x2c\40\x73\141\x6c\x74\54\40\152\157\151\x6e\144\x61\164\145\54\40\x67\162\x6f\165\160\x69\x64\54\x20\x73\164\x61\164\165\163\x2c\x20\146\157\x75\x6e\x64\x65\162\137\147\162\157\165\x70\151\144\x2c\x20\151\163\137\x62\x69\x6e\144\51\x20\x56\x41\114\125\105\123\50\x27{$user["\165\163\145\162\156\x61\x6d\x65"]}\47\54\x20\47{$password}\47\54\x20\47{$salt}\x27\54\x20\47" . time() . "\47\54\40\61\54\x20\x32\x2c\x20\61\x2c\40\x30\51"); goto MV4hE; jyEn2: $dbfile = IA_INSTALL_ROOT . "\x2f\x64\141\x74\x61\57\144\x62\56\x70\x68\x70"; goto O22Kp; bWWj5: $user = array("\165\x73\145\x72\x6e\x61\155\x65" => "\x61\x64\x6d\x69\x6e", "\160\141\x73\163\167\157\162\144" => "\x31\x32\63\x34\x35\x36"); goto Vc9F0; M9QfR: define("\111\x4e\137\x49\x41", true); goto A9dsz; fvzPk: foreach ($dat["\x64\x61\x74\141\163"] as $data) { local_run($data, $link, $db); ajKW6: } goto rCBqL; Ou20P: goto WM_mE; goto A1jZ1; a1OUh: } goto z4V_W; FTDsH: goto MLht2; goto pwN1C; MpZq4: exit(we7_error(0, "\163\165\143\143\x65\163\x73")); goto POLop; xPeon: define("\x41\x50\x49\137\x53\x49\124\x45\137\122\105\107\111\123\124\x45\122\137\x45\130\x49\123\124", API_HOST . "\57\x73\151\x74\x65\57\162\x65\147\x69\x73\x74\x65\162\x2f\x65\170\151\x73\164"); goto EZgTk; yL3MQ: fwrite($fh, $output); goto jMXqz; l0eQW: $post = file_get_contents("\160\150\x70\72\57\x2f\151\156\160\165\x74"); goto PNavh; ti3mP: goto YukYr; goto L7Ncu; FZITP: function we7_update_sitename($sitename) { goto txOET; txOET: global $accesstoken, $_W; goto tKsAp; jPl9I: $data = we7_request_api(API_UPDATE_SITENAME, array("\141\143\x63\x65\x73\x73\137\164\x6f\153\145\156" => $accesstoken, "\x73\151\x74\x65\x5f\156\x61\155\x65" => $sitename, "\163\x69\164\x65\137\153\145\171" => $site_info["\x73\x69\164\x65"]["\153\145\x79"])); goto zRexC; zng2T: wf11u: goto Tav3b; qJmzY: u2a3A: goto URTIO; v1PYj: if (!(empty($site_info["\x73\x69\164\x65"]) || empty($site_info["\163\x69\164\145"]["\x6b\145\171"]))) { goto owIzr; } goto ATbsl; ATbsl: return "\347\253\231\347\x82\271\xe4\277\xa1\346\201\xaf\xe4\270\215\345\255\x98\345\x9c\250\xef\274\x8c\xe8\xaf\xb7\351\207\x8d\346\226\260\346\xb3\250\xe5\x86\214\xe7\253\x99\347\202\271\56"; goto k3gU1; URTIO: return $data["\145\162\162\x6f\162"]; goto zng2T; tKsAp: $site_info = setting_load("\x73\x69\x74\x65"); goto v1PYj; unLgw: return true; goto c3QUL; k3gU1: owIzr: goto jPl9I; zRexC: if (is_array($data) && isset($data["\x65\x72\x72\157\x72"])) { goto u2a3A; } goto unLgw; c3QUL: goto wf11u; goto qJmzY; Tav3b: } goto kiux1; fLNOM: pKFfv: goto j72K7; nMo_9: exit(we7_error(421, $handle_result)); goto z2L8O; KxTlA: if ($registered_site == 1) { goto oNwzy; } goto h1lC2; pwN1C: RL222: goto vmU72; k9yDT: if (!(version_compare(PHP_VERSION, "\67\x2e\x30\x2e\x30") == -1 && version_compare(PHP_VERSION, "\x35\56\66\x2e\x30") >= 0)) { goto vGwEp; } goto kbFM1; wNyaf: if (!empty($data)) { goto QuqNK; } goto QlH5h; PLuBt: rXwpi: goto f56xv; e9XTq: bSr9_: goto YaxaB; nZTtx: goto EPYub; goto WzRl9; fFwzH: $filename = IA_INSTALL_ROOT . "\x2f\x63\x68\x75\156\x6b\137" . $chunk_num; goto ZoBkU; yRMWb: function we7_http_request($url, $post = array()) { goto Ub3PB; Ub3PB: $ch = curl_init(); goto qxpwQ; QGW2U: curl_setopt($ch, CURLOPT_TIMEOUT, 60); goto a9F4x; c01Fl: @curl_setopt($ch, CURLOPT_FOLLOWLOCATION, 1); goto g5w3Z; NXe6v: curl_setopt($ch, CURLOPT_RETURNTRANSFER, 1); goto c01Fl; HRr8W: curl_close($ch); goto Bnsfz; yaGMC: $errno = curl_errno($ch); goto WELHq; PdhsX: curl_setopt($ch, CURLOPT_USERAGENT, $_SERVER["\x48\x54\124\x50\137\125\x53\x45\122\137\x41\107\x45\x4e\x54"]); goto jmKAz; OFwhT: curl_setopt($ch, CURLOPT_POSTFIELDS, $post); goto nUQZ_; qAko4: w35Vi: goto NTd4a; a9F4x: curl_setopt($ch, CURLOPT_SSL_VERIFYPEER, false); goto uHDMJ; WELHq: $error = curl_error($ch); goto HRr8W; HIdNi: goto w35Vi; goto EPTca; jmKAz: $data = curl_exec($ch); goto yaGMC; TNEdd: curl_setopt($ch, CURLOPT_POST, 1); goto OFwhT; rAGiW: return array("\x65\x72\x72\156\x6f" => $errno, "\x65\x72\x72\157\162" => $error); goto qAko4; Bnsfz: if ($errno || empty($data)) { goto n2llg; } goto LX4T_; g5w3Z: curl_setopt($ch, CURLOPT_HEADER, 1); goto Wra8Y; dQAMn: curl_setopt($ch, CURLOPT_CONNECTTIMEOUT, 60); goto QGW2U; LX4T_: return we7_http_response_parse($data); goto HIdNi; nUQZ_: tVpHp: goto dQAMn; uHDMJ: curl_setopt($ch, CURLOPT_SSL_VERIFYHOST, 0); goto PdhsX; EPTca: n2llg: goto rAGiW; Wra8Y: if (!$post) { goto tVpHp; } goto TNEdd; qxpwQ: curl_setopt($ch, CURLOPT_URL, $url); goto NXe6v; NTd4a: } goto zAkLz; h1lC2: if (!($chunk_num == 1)) { goto xlrvm; } goto A7ilZ; LGnBy: $db_password = trim($_POST["\x70\141\x73\x73\167\157\162\x64"]); goto HzewF; uv26Z: if (!($action == "\154\x6f\x67\x69\x6e")) { goto q6ovT; } goto bHk5E; PxAlz: function local_mkdirs($path) { goto cuSxr; cuSxr: if (is_dir($path)) { goto uylYW; } goto koURW; bKDqE: return is_dir($path); goto J1bcr; koURW: local_mkdirs(dirname($path)); goto PiTpQ; aW8lz: uylYW: goto bKDqE; PiTpQ: mkdir($path); goto aW8lz; J1bcr: } goto vKALP; uT0UV: $server["\x75\x70\x6c\157\x61\144"] = strtolower($server["\x75\x70\x6c\x6f\x61\x64"]); goto wcm9O; xI2Iv: if (!($database_result !== true)) { goto z71ch; } goto Lx7en; sJtBE: $fh = fopen("\x2e\57\x77\145\67\x73\x6f\x75\162\x63\x65\x2e\x7a\151\160", "\x77\142"); goto PLuBt; rf4lX: if (!empty($data) && $data["\x73\x74\141\164\165\163"] == 1) { goto m6ztD; } goto h2mC6; sRYzC: $i = 1; goto MCU2j; CO0VN: $handle_result = we7_handle_chunk(); goto sDnki; PLx_i: $server["\165\160\154\157\x61\x64"] = @ini_get("\x66\x69\x6c\145\137\165\160\154\157\141\x64\x73") ? ini_get("\165\160\154\157\x61\144\x5f\x6d\141\x78\137\146\x69\154\x65\x73\x69\x7a\145") : "\x75\156\x6b\156\157\x77"; goto uT0UV; O0I7n: $header_array = get_headers($cdn_source_file, 1); goto p92hK; F6Qmp: yIYjz: goto uv26Z; ovB7C: $ret["\162\x6f\157\164"]["\156\x61\155\x65"] = "\346\234\254\345\234\xb0\xe7\233\xae\345\275\225\xe5\206\x99\xe5\x85\245"; goto oq5_u; nRfUp: $chunk_total = we7_getcookie("\x63\150\x75\156\153\x5f\x74\x6f\x74\x61\154"); goto Bkb4C; FWdil: if (empty($code)) { goto am16r; } goto TkeKH; q19R2: $ret["\x61\163\x70\137\164\141\147\x73"]["\x72\x65\163\165\154\x74"] = "\141\x73\x70\137\164\141\147\x73\xe5\xbc\200\xe5\220\257\347\x8a\xb6\xe6\x80\x81"; goto EH8QG; Gxmis: $ret["\144\157\x6d"]["\162\145\163\165\154\164"] = "\346\xb2\xa1\346\x9c\x89\xe5\x90\257\xe7\x94\250\x44\x4f\115\x44\157\143\165\x6d\x65\156\164"; goto eYa3T; jMXqz: goto YcPyr; goto xeWsV; EV46l: $ret["\163\x65\163\163\151\157\x6e"]["\x72\145\x73\x75\x6c\x74"] = "\xe7\263\xbb\xe7\xbb\x9f\163\x65\x73\163\x69\x6f\156\x2e\141\165\164\x6f\137\x73\164\x61\162\x74\345\xbc\x80\xe5\x90\xaf"; goto TuQd9; sP4nk: t6__y: goto UD3CI; jBF1K: $sitepath = substr($_SERVER["\120\x48\x50\x5f\x53\x45\x4c\106"], 0, strrpos($_SERVER["\x50\110\120\137\123\105\114\x46"], "\57")); goto WNddQ; HyCQW: goto rXwpi; goto jetn7; jfurN: if (!($action == "\x64\157\x77\156\x6c\x6f\x61\144\x5f\x70\x65\x72\143\x65\156\164")) { goto JvGiG; } goto K323n; wPMHN: exit; goto m69vR; EIB31: $accesstoken = we7_get_accesstoken(); goto OHOiP; lM0Ay: exit(we7_error(400, "\xe8\x8e\xb7\345\217\x96\x61\143\x63\145\163\x73\164\157\153\x65\156\345\xa4\261\xe8\xb4\xa5\xef\274\x8c\xe8\257\267\xe9\x87\x8d\xe6\x96\260\347\x99\xbb\xe5\275\x95\x2e")); goto CtM5z; VSqzt: if (!(!empty($ret["\x73\145\163\x73\x69\157\156"]["\x6f\x6b"]) && strtolower($ret["\163\145\163\163\x69\x6f\x6e"]["\x6f\153"]) == "\157\156")) { goto s8iaQ; } goto kLGzN; eGQa3: $forward = $data["\165\x72\x6c"]; goto dPUJY; TkeKH: $data = we7_request_api(API_OAUTH_ACCESSTOKEN, array("\143\x6f\144\x65" => $code)); goto XeOyB; yNCh3: define("\x41\120\x49\x5f\x4f\x41\x55\x54\110\137\x41\103\x43\x45\x53\123\x54\117\113\105\x4e", API_HOST . "\x2f\157\x61\x75\164\x68\x2f\141\143\143\145\x73\163\55\x74\157\x6b\145\156\57\143\157\x64\x65"); goto aiYB4; ZaISO: exit(we7_error(0, $sitekey)); goto F6Qmp; qhptB: uCsE9: goto j_G2T; A1LFF: $ret["\141\154\x77\141\171\x73\137\x70\157\x70\165\154\141\x74\x65\137\162\x61\167\137\x70\157\163\164\137\144\x61\164\141"]["\150\141\x6e\x64\x6c\145"] = "\x68\164\164\160\163\72\x2f\x2f\163\x2e\x77\x37\x2e\x63\143\57\x77\157\57\160\162\x6f\x62\154\x65\155\57\61\63\x34"; goto dU63n; TuQd9: s8iaQ: goto uVLnB; MLU6Q: $data = we7_request_api(API_GET_PACKAGE_MD5_AND_CHUNKTOTAL, array("\141\143\x63\145\x73\163\x5f\164\157\153\145\156" => $accesstoken)); goto QAs5g; Sn1Jk: if (!($i <= $chunk_total)) { goto O1E8Z; } goto PCH3m; c_yNL: $url = $siteroot . "\x2f\151\x6e\163\x74\141\x6c\154\56\160\150\160\x3f\x73\164\145\160\x3d\x6f\141\x75\164\x68"; goto j6r7n; bRw4j: function we7_upgrade() { goto cZNF2; ZbhVz: load()->func("\146\151\154\x65"); goto kU4Z_; qx35k: kaJVu: goto QXS77; cZNF2: global $_W; goto VeHGS; HL0mD: require IA_INSTALL_ROOT . "\57\167\x65\x62\x2f\x63\x6f\155\155\x6f\156\57\x62\157\x6f\x74\163\x74\x72\141\x70\x2e\163\x79\x73\56\x69\156\x63\56\x70\150\160"; goto I9vqK; UsZg0: foreach ($packet["\x73\x63\162\x69\160\x74\163"] as $script) { goto EsQRe; Io0yg: Z6Yj3: goto ery45; WHjZR: if (!empty($script["\163\x63\x72\151\160\164"])) { goto Z6Yj3; } goto RI3BZ; zREdl: Ex_07: goto eJApA; UKcK5: goto IdDMY; goto zREdl; RI3BZ: $script["\163\143\x72\151\x70\164"] = <<<DAT
<?php
load()->model('setting');
setting_upgrade_version('{$packet["\146\141\155\x69\x6c\171"]}', '{$script["\x76\x65\162\163\x69\157\156"]}', '{$script["\162\145\154\145\141\163\x65"]}');
return true;
DAT;
goto Io0yg; eJApA: $fname = "\165\160\144\x61\x74\145\50{$crelease}\x2d{$script["\162\145\154\145\x61\x73\x65"]}\51\56\x70\x68\160"; goto D1Can; cjOkj: $script["\163\143\x72\151\160\x74"] = @base64_decode($script["\x73\x63\162\x69\x70\164"]); goto WHjZR; D1Can: $crelease = $script["\162\x65\154\x65\141\163\x65"]; goto cjOkj; ery45: $updatefile = $updatedir . $fname; goto UheKp; EsQRe: if (!($script["\162\x65\x6c\145\141\x73\x65"] <= $crelease)) { goto Ex_07; } goto UKcK5; UheKp: file_put_contents($updatefile, $script["\163\143\162\x69\x70\164"]); goto nBYFR; pZm_a: IdDMY: goto S7qrK; nBYFR: $updatefiles[] = $updatefile; goto pZm_a; S7qrK: } goto MU6y0; HZY3x: zSWOa: goto nkPS3; soPL1: if (!(!empty($packet["\x73\143\x68\145\155\x61\x73"]) && is_array($packet["\x73\143\150\145\x6d\x61\x73"]))) { goto zSWOa; } goto V2DpY; KIJmd: $crelease = IMS_RELEASE_DATE; goto UsZg0; V2DpY: foreach ($packet["\x73\143\x68\145\155\x61\163"] as $schema) { goto cJXOt; pplOe: ptH9e: goto THYKR; Vtn0E: foreach ($sqls as $sql) { pdo_query($sql); W4f0P: } goto pplOe; cJXOt: $tablename = substr($schema["\x74\141\x62\154\x65\x6e\141\155\x65"], 4); goto GzoFY; GzoFY: $local = db_table_schema(pdo(), $tablename); goto L_Vfm; L_Vfm: $sqls = db_table_fix_sql($local, $schema); goto Vtn0E; THYKR: r4K7L: goto RSH6p; RSH6p: } goto Vrsxe; nkPS3: if (!(!empty($packet["\163\143\x72\x69\x70\x74\163"]) && is_array($packet["\163\x63\x72\x69\160\164\x73"]))) { goto uI8Is; } goto zJ_G4; U1TjG: require IA_INSTALL_ROOT . "\57\146\x72\x61\x6d\x65\x77\157\162\x6b\57\x62\157\157\x74\163\164\162\141\x70\56\151\156\x63\56\x70\150\x70"; goto HL0mD; zJ_G4: $updatefiles = array(); goto ImCIm; lnnUN: uI8Is: goto I8XLD; Lr6P_: if (!empty($packet)) { goto kaJVu; } goto MYLh8; eHAD1: foreach ($packet["\x66\151\x6c\145\163"] as $file) { cloud_download($file, "\146\151\154\145\x73"); Bgojw: } goto TRmEz; mmkio: $cversion = IMS_VERSION; goto KIJmd; VeHGS: define("\111\116\137\123\x59\123", true); goto U1TjG; MU6y0: RGDHc: goto eHMcM; I8XLD: return true; goto DIDpK; LMhup: mkdirs($updatedir); goto mmkio; TRmEz: B0lTA: goto hUqHw; I9vqK: load()->model("\x63\154\157\165\x64"); goto DaPio; eHMcM: if (empty($updatefiles)) { goto Euc0V; } goto g2RUq; QXS77: if (!(!empty($packet["\146\x69\x6c\x65\x73"]) && is_array($packet["\x66\x69\154\x65\x73"]))) { goto GNZVJ; } goto eHAD1; hUqHw: GNZVJ: goto soPL1; DaPio: load()->func("\x64\142"); goto ZbhVz; mN9jX: rmdirs($updatedir, true); goto LMhup; g2RUq: foreach ($updatefiles as $file) { goto QdftJ; ysJDS: goto letW0; goto Teatv; TofC5: cache_build_setting(); goto bx62y; bx62y: @unlink($entry); goto i00dm; J4eLm: letW0: goto PSVDv; npslC: cache_build_users_struct(); goto TofC5; Teatv: k04hW: goto E3Df3; E3Df3: $evalret = (include $entry); goto PUS8T; i00dm: bbZkR: goto J4eLm; PUS8T: if (empty($evalret)) { goto bbZkR; } goto npslC; QdftJ: if (!(!is_file($file) || !preg_match("\x2f\136\165\160\144\141\x74\145\x5c\x28\x5c\144\173\61\x32\175\x5c\55\x5c\x64\x7b\61\62\175\x5c\51\134\56\160\x68\x70\x24\57", $file))) { goto k04hW; } goto ysJDS; PSVDv: } goto dlB0l; dlB0l: pccBE: goto bwOda; bwOda: Euc0V: goto lnnUN; kU4Z_: $packet = cloud_build(); goto Lr6P_; MYLh8: return true; goto qx35k; Vrsxe: AK451: goto HZY3x; ImCIm: $updatedir = IA_INSTALL_ROOT . "\x2f\144\x61\164\x61\57\165\160\x64\x61\164\x65\57"; goto mN9jX; DIDpK: } goto FZITP; ZuWOG: we7_setcookie("\141\x63\143\145\x73\163\x74\x6f\x6b\145\156", $data); goto iuXik; HzewF: $db_name = trim($_POST["\156\x61\155\x65"]); goto hskXS; kbFM1: $ret["\141\x6c\167\141\x79\x73\x5f\160\157\160\165\x6c\141\164\x65\137\x72\141\167\x5f\160\x6f\x73\x74\137\144\141\164\141"]["\x66\141\151\x6c\x65\x64"] = @ini_get("\141\x6c\x77\141\x79\x73\137\160\x6f\160\x75\x6c\x61\164\x65\137\x72\x61\x77\137\160\157\x73\164\137\x64\x61\x74\x61") != "\x2d\61"; goto YxYoB; z2L8O: GYBSR: goto D0ytC; x7tqo: if (we7_network_enable($_SERVER["\110\x54\124\x50\x5f\110\x4f\123\x54"])) { goto bSr9_; } goto tVLfg; h2mC6: $action = "\x6f\141\x75\164\x68"; goto QmrvJ; sDnki: if (!($handle_result !== true)) { goto GYBSR; } goto nMo_9; tvsVf: $result = file_put_contents("\56\57\x63\150\165\x6e\153\137" . $chunk_num, $data); goto KU45Q; VVM0X: $output = fread($hostfile, 8192); goto yL3MQ; xMN3h: function local_writeable($dir) { goto r6ksA; Yz9Kf: $writeable = 1; goto otDPt; ruEXE: $writeable = 0; goto M52dl; dang8: V_F9i: goto tkQrX; M52dl: goto hZ5lj; goto dang8; hhOC3: if (is_dir($dir)) { goto nGbgN; } goto u9HUI; otDPt: hZ5lj: goto AjrG2; x6RdN: nGbgN: goto IB_L2; QadPg: unlink("{$dir}\x2f\x74\145\x73\x74\x2e\164\170\x74"); goto Yz9Kf; u9HUI: @mkdir($dir, 0777); goto x6RdN; jj81d: if ($fp = fopen("{$dir}\57\164\145\x73\x74\56\164\x78\x74", "\x77")) { goto V_F9i; } goto ruEXE; r6ksA: $writeable = 0; goto hhOC3; tkQrX: fclose($fp); goto QadPg; IB_L2: if (!is_dir($dir)) { goto mAg3R; } goto jj81d; AjrG2: mAg3R: goto nbVOc; nbVOc: return $writeable; goto oiInY; oiInY: } goto uSKDE; kLGzN: $ret["\x73\145\x73\x73\x69\x6f\156"]["\x66\x61\151\x6c\x65\x64"] = true; goto sd8BJ; MZEQ6: $ret["\x64\141\164\x61"]["\x6f\153"] = local_writeable(IA_INSTALL_ROOT . "\57\x64\141\x74\141"); goto A61uE; Vg2lK: if (!(is_array($data) && isset($data["\x65\x72\162\157\x72"]))) { goto bEI3A; } goto GHxM4; j6r7n: $callback = urlencode($url); goto R4_Yg; ZoBkU: $filesize = filesize($filename); goto c8pSO; nU1rV: function we7_getcookie($key) { goto driFd; AfdpR: return ''; goto bVnkQ; bVnkQ: zEqCl: goto AX3Pd; AX3Pd: $key = COOKIE_PRE . $key; goto DYCcq; driFd: if (!empty($key)) { goto zEqCl; } goto AfdpR; DYCcq: return $_COOKIE[$key]; goto t3rVU; t3rVU: }